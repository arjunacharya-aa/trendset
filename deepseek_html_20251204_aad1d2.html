<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameHub - Multiplayer Gaming Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #ef233c;
            --gray: #6c757d;
            --light-gray: #e9ecef;
        }

        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header & Navigation */
        header {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(30, 30, 50, 0.98));
            backdrop-filter: blur(15px);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            flex-wrap: nowrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--light);
            text-decoration: none;
        }

        .logo i {
            color: var(--accent);
        }

        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
            flex-wrap: nowrap;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--success);
        }

        .nav-links a.active {
            color: var(--accent);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .user-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: nowrap;
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
            transition: color 0.3s;
        }

        .mobile-menu-toggle:hover {
            color: var(--accent);
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(30, 30, 50, 0.98));
            backdrop-filter: blur(15px);
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            transition: right 0.3s ease;
            overflow-y: auto;
            padding: 20px;
        }

        .mobile-menu.active {
            right: 0;
        }


        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mobile-menu-header h3 {
            color: var(--light);
            font-size: 1.3rem;
        }

        .mobile-menu-close {
            background: transparent;
            border: none;
            color: var(--light);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 5px;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mobile-nav-links a {
            color: var(--light);
            text-decoration: none;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .mobile-nav-links a:hover,
        .mobile-nav-links a.active {
            background: rgba(67, 97, 238, 0.2);
            color: var(--accent);
        }

        .mobile-user-actions {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .coin-balance {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 18px;
            border-radius: 25px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.15));
            border: 1px solid rgba(255, 215, 0, 0.4);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(255, 215, 0, 0.2);
            white-space: nowrap;
        }

        .coin-balance:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.6);
        }

        .coin-balance i {
            color: #ffd700;
            font-size: 1.2rem;
        }

        .coin-balance span {
            color: #ffd700;
            font-weight: bold;
            font-size: 1rem;
        }

        .buy-coins-btn {
            padding: 9px 20px;
            background: linear-gradient(135deg, #ff8c00, #ffd700);
            border: none;
            border-radius: 25px;
            color: #000;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 3px 10px rgba(255, 140, 0, 0.3);
            white-space: nowrap;
        }

        .buy-coins-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 140, 0, 0.5);
            background: linear-gradient(135deg, #ff9500, #ffdd00);
        }

        .buy-coins-btn:active {
            transform: translateY(0);
        }

        .coin-guide-btn {
            padding: 9px 18px;
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 700;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 3px 10px rgba(67, 97, 238, 0.3);
            white-space: nowrap;
        }

        .coin-guide-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.5);
            background: linear-gradient(135deg, #4d6ef5, #4320b8);
        }

        .coin-guide-btn:active {
            transform: translateY(0);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 20px;
            background: rgba(67, 97, 238, 0.2);
            transition: background 0.3s;
        }

        .user-profile:hover {
            background: rgba(67, 97, 238, 0.4);
        }

        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Hero Section */
        .hero {
            padding: 80px 0 50px;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(to right, #4cc9f0, #f72585);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 40px;
            color: var(--light-gray);
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 50px;
        }

        .btn {
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(67, 97, 238, 0.1);
            transform: translateY(-3px);
        }

        .btn-admin {
            background: var(--accent);
            color: white;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(248, 37, 133, 0.4);
            padding: 12px 20px;
        }

        .btn-admin:hover {
            background: #e11570;
            transform: scale(1.05);
        }

        /* Games Section */
        .games-section {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.5rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .game-card {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s;
            border: 1px solid rgba(67, 97, 238, 0.2);
            position: relative;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            border-color: var(--primary);
        }

        .game-header {
            padding: 25px 25px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .game-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
        }

        .ludo-icon { background: #EF5350; }
        .uno-icon { background: #4CAF50; }
        .chess-icon { background: #795548; }
        .checkers-icon { background: #2196F3; }
        .solitaire-icon { background: #9C27B0; }
        .ultimate-icon { background: linear-gradient(135deg, #ff8c00, #ffd700); }

        .online-count {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .online-count i {
            color: var(--success);
        }

        .game-content {
            padding: 0 25px 25px;
        }

        .game-content h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .game-content p {
            color: var(--light-gray);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .game-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tag {
            background: rgba(67, 97, 238, 0.2);
            color: #a3b6ff;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .play-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .play-btn:hover {
            background: var(--secondary);
        }

        /* Admin Panel Modal */
        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }

        .admin-container {
            background: var(--dark);
            width: 95%;
            max-width: 1200px;
            margin: 30px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .admin-header {
            background: var(--secondary);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-admin {
            background: transparent;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-admin:hover {
            color: var(--accent);
        }

        .admin-tabs {
            display: flex;
            background: rgba(26, 26, 46, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-tab {
            padding: 18px 30px;
            background: transparent;
            border: none;
            color: var(--light);
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
        }

        .admin-tab.active {
            color: var(--accent);
            background: rgba(248, 37, 133, 0.1);
        }

        .admin-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent);
        }

        .admin-content {
            padding: 30px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(67, 97, 238, 0.1);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid var(--primary);
        }

        .stat-card h3 {
            font-size: 1rem;
            color: var(--light-gray);
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--success);
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .control-panel h3 {
            margin-bottom: 20px;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .control-item {
            background: rgba(26, 26, 46, 0.7);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(67, 97, 238, 0.3);
        }

        .control-item h4 {
            margin-bottom: 15px;
            color: var(--light);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
        }

        input[type="range"] {
            flex-grow: 1;
            height: 8px;
            border-radius: 4px;
            background: rgba(67, 97, 238, 0.3);
            outline: none;
        }

        .player-list {
            background: rgba(26, 26, 46, 0.7);
            border-radius: 10px;
            overflow: hidden;
        }

        .player-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .player-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 6px 12px;
            border-radius: 4px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .action-btn.edit {
            background: var(--warning);
            color: white;
        }

        .action-btn.control {
            background: var(--primary);
            color: white;
        }

        .action-btn.ban {
            background: var(--danger);
            color: white;
        }

        /* Game Lobby */
        .game-lobby {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1500;
            overflow-y: auto;
        }

        .lobby-container {
            background: var(--dark);
            width: 95%;
            max-width: 1000px;
            margin: 30px auto;
            border-radius: 15px;
            overflow: hidden;
        }

        .lobby-header {
            background: var(--primary);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .lobby-content {
            padding: 30px;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .game-board {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--gray);
        }

        .lobby-sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .players-container {
            background: rgba(26, 26, 46, 0.7);
            border-radius: 10px;
            padding: 20px;
        }

        .players-container h3 {
            margin-bottom: 15px;
            color: var(--accent);
        }

        .player {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .player-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .chat-container {
            background: rgba(26, 26, 46, 0.7);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 300px;
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            margin-bottom: 15px;
            padding-right: 10px;
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex-grow: 1;
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid rgba(67, 97, 238, 0.5);
            background: rgba(26, 26, 46, 0.9);
            color: white;
        }

        /* Footer */
        footer {
            background: rgba(26, 26, 46, 0.9);
            padding: 40px 0 20px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            color: var(--accent);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: var(--light-gray);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--success);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Watch and Earn Modal */
        .watch-earn-video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
        }

        .watch-earn-video {
            width: 100%;
            height: auto;
            min-height: 400px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .video-progress-bar {
            width: 100%;
            height: 5px;
            background: rgba(255, 255, 255, 0.2);
            position: absolute;
            bottom: 0;
            left: 0;
        }

        .video-progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.3s;
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .video-btn {
            padding: 12px 30px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .video-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .video-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
        }

        .watch-earn-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .watch-earn-stat-card {
            background: rgba(67, 97, 238, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid rgba(67, 97, 238, 0.3);
        }

        .watch-earn-stat-card h3 {
            color: var(--accent);
            font-size: 1.8rem;
            margin: 10px 0;
        }

        .watch-earn-stat-card p {
            color: var(--light-gray);
            font-size: 0.9rem;
        }

        .video-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .video-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .video-item:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }

        .video-item.watched {
            opacity: 0.6;
            border-color: var(--gray);
        }

        .video-item-title {
            color: white;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .video-item-duration {
            color: var(--light-gray);
            font-size: 0.9rem;
        }

        .faq-section {
            margin-top: 40px;
        }

        .faq-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .faq-question {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .faq-answer {
            color: var(--light-gray);
            line-height: 1.6;
        }

        /* Gaming Panel Modal */
        .gaming-panel-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2500;
            overflow-y: auto;
        }

        .gaming-panel-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }

        .gaming-panel-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .gaming-panel-header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .gaming-panel-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
        }

        .game-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .game-tab-btn {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #ddd;
            font-size: 1.1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .game-tab-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .game-tab-btn.active {
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            color: #000;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .gaming-panel-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            min-height: 500px;
        }

        .game-panel-section {
            display: none;
        }

        .game-panel-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .gaming-game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .gaming-game-title {
            font-size: 1.8rem;
            color: #ffd700;
        }

        .gaming-balance-panel {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .gaming-balance-amount {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.4rem;
        }

        .gaming-game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .gaming-game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .gaming-controls {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
        }

        .gaming-control-group {
            margin-bottom: 20px;
        }

        .gaming-control-label {
            display: block;
            margin-bottom: 8px;
            color: #ccc;
        }

        .gaming-slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .gaming-input-range {
            flex-grow: 1;
            height: 10px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            outline: none;
        }

        .gaming-input-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            background: #ff8c00;
            border-radius: 50%;
            cursor: pointer;
        }

        .gaming-btn {
            padding: 15px 30px;
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            border: none;
            color: #000;
            font-weight: bold;
            font-size: 1.1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .gaming-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .gaming-btn:disabled {
            background: #666;
            color: #999;
            cursor: not-allowed;
        }

        /* Lucky Draw specific styles */
        .wheel-container {
            position: relative;
            width: 350px;
            height: 350px;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                red 0deg 45deg,
                orange 45deg 90deg,
                yellow 90deg 135deg,
                green 135deg 180deg,
                blue 180deg 225deg,
                indigo 225deg 270deg,
                violet 270deg 315deg,
                pink 315deg 360deg
            );
            position: relative;
            transition: transform 3s cubic-bezier(0.2, 0.8, 0.3, 1);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .wheel-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            z-index: 10;
        }

        /* Mines game specific styles */
        .mines-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            width: 350px;
        }

        .mine-cell {
            width: 60px;
            height: 60px;
            background: linear-gradient(145deg, #2c5364, #203a43);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .mine-cell:hover {
            background: linear-gradient(145deg, #3a6b80, #2c5364);
            transform: translateY(-3px);
        }

        .mine-cell.revealed {
            background: #1a3a4a;
            cursor: default;
        }

        .mine-cell.mine {
            background: linear-gradient(145deg, #ff3333, #cc0000);
            color: white;
        }

        .mine-cell.gem {
            background: linear-gradient(145deg, #00cc66, #00994d);
            color: white;
        }

        /* Prediction game specific styles */
        .prediction-container {
            width: 350px;
            height: 350px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
        }

        .prediction-display {
            font-size: 5rem;
            color: #ffd700;
            margin: 30px 0;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .prediction-input {
            width: 100%;
            padding: 15px;
            font-size: 1.5rem;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            margin-bottom: 20px;
        }

        /* Slot machine specific styles */
        .slot-machine {
            width: 350px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .slot-reels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .slot-reel {
            width: 100px;
            height: 120px;
            background: linear-gradient(145deg, #2c5364, #203a43);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #ffd700;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .slot-reel span {
            display: block;
            animation: slotSpin 0.1s infinite;
        }

        @keyframes slotSpin {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(100px); }
        }

        .gaming-slot-result {
            text-align: center;
            font-size: 1.3rem;
            min-height: 30px;
            margin-top: 20px;
            padding: 10px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
        }

        .gaming-result-win {
            color: #00cc66;
            font-weight: bold;
        }

        .gaming-result-lose {
            color: #ff3333;
        }

        .gaming-game-history {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .gaming-history-title {
            color: #aaa;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .gaming-history-item {
            padding: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .gaming-history-item:last-child {
            border-bottom: none;
        }

        .gaming-history-win {
            color: #00cc66;
        }

        .gaming-history-lose {
            color: #ff3333;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .lobby-content {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }

            .gaming-game-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }

            .wheel-container, .mines-grid, .prediction-container, .slot-machine {
                width: 100%;
                max-width: 400px;
            }

            .game-tabs {
                flex-direction: column;
            }

            .game-tab-btn {
                width: 100%;
                justify-content: center;
            }

            .header-content {
                flex-wrap: nowrap;
                gap: 10px;
            }

            .nav-links {
                display: none;
            }

            .user-actions {
                gap: 8px;
                flex-wrap: nowrap;
            }

            .coin-balance {
                padding: 8px 12px;
            }

            .coin-balance span {
                font-size: 0.85rem;
            }

            .buy-coins-btn, .coin-guide-btn {
                padding: 8px 12px;
                font-size: 0.75rem;
            }

            .header-content .buy-coins-btn .btn-text,
            .header-content .coin-guide-btn .btn-text {
                display: none;
            }

            .mobile-user-actions .btn-text {
                display: inline;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .user-profile span {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Mobile Sidebar Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <h3><i class="fas fa-gamepad"></i> GameHub</h3>
            <button class="mobile-menu-close" onclick="closeMobileMenu()">&times;</button>
        </div>
        <div class="mobile-nav-links">
            <a href="#" class="active" onclick="closeMobileMenu()">Home</a>
            <a href="#games" onclick="closeMobileMenu()">Games</a>
            <a href="#gaming-panel" onclick="openGamingPanel(); closeMobileMenu(); return false;">Ultimate Game</a>
            <a href="#" onclick="closeMobileMenu()">Tournaments</a>
            <a href="#" onclick="closeMobileMenu()">Community</a>
        </div>
        <div class="mobile-user-actions">
            <div class="coin-balance" onclick="openCoinGuideModal(); closeMobileMenu();" style="width: 100%; justify-content: center;">
                <i class="fas fa-coins"></i>
                    <span id="mobile-coin-balance">0</span>
            </div>
            <button class="buy-coins-btn" onclick="openBuyCoinsModal(); closeMobileMenu();" style="width: 100%; justify-content: center;">
                <i class="fas fa-shopping-cart"></i>
                <span class="btn-text">Buy Coins</span>
            </button>
            <button class="coin-guide-btn" onclick="openCoinGuideModal(); closeMobileMenu();" style="width: 100%; justify-content: center;">
                <i class="fas fa-question-circle"></i>
                <span class="btn-text">How It Works</span>
            </button>
            <div class="user-profile" style="width: 100%; justify-content: center;">
                <div class="avatar">JD</div>
                <span>Player123</span>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-content">
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <a href="#" class="logo">
                <i class="fas fa-gamepad"></i>
                GameHub
            </a>
            <div class="nav-links">
                <a href="#" class="active">Home</a>
                <a href="#games">Games</a>
                <a href="#gaming-panel" onclick="openGamingPanel(); return false;">Ultimate Game</a>
                <a href="#">Tournaments</a>
                <a href="#">Community</a>
            </div>
            <div class="user-actions">
                <div class="coin-balance" onclick="openCoinGuideModal()" title="Learn how coins work">
                    <i class="fas fa-coins"></i>
                    <span id="main-coin-balance">0</span>
                </div>
                <button class="buy-coins-btn" onclick="openBuyCoinsModal()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="btn-text">Buy Coins</span>
                </button>
                <button class="coin-guide-btn" onclick="openCoinGuideModal()">
                    <i class="fas fa-question-circle"></i>
                    <span class="btn-text">How It Works</span>
                </button>
                <div class="user-profile">
                    <div class="avatar">JD</div>
                    <span>Player123</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Play Multiplayer Games With Anyone, Anywhere!</h1>
            <p>Join thousands of players worldwide in our real-time multiplayer gaming platform. Challenge friends or meet new opponents in Ludo, UNO, Chess, Checkers, and Solitaire.</p>
            <div class="cta-buttons">
                <button class="btn btn-primary" onclick="openLobby('ludo')">
                    <i class="fas fa-play-circle"></i> Play Now
                </button>
                <button class="btn btn-secondary">
                    <i class="fas fa-users"></i> Join Tournament
                </button>
                <button class="btn btn-secondary" onclick="openWatchAndEarnModal()">
                    <i class="fas fa-video"></i> Watch and Earn
                </button>
            </div>
        </div>
    </section>

    <!-- Games Section -->
    <section id="games" class="games-section">
        <div class="container">
            <h2 class="section-title">Our Games</h2>
            <div class="games-grid">
                <!-- Ludo Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon ludo-icon">
                            <i class="fas fa-dice"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>2,453 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>Ludo</h3>
                        <p>Classic dice board game for 2-4 players. Roll the dice and race your tokens to the finish line!</p>
                        <div class="game-tags">
                            <span class="tag">Multiplayer</span>
                            <span class="tag">Family</span>
                            <span class="tag">Strategy</span>
                        </div>
                        <button class="play-btn" onclick="openLobby('ludo')">
                            <i class="fas fa-play"></i> Play Ludo
                        </button>
                    </div>
                </div>

                <!-- UNO Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon uno-icon">
                            <i class="fas fa-club"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>1,892 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>UNO</h3>
                        <p>The classic card game of matching colors and numbers. Play with friends or random opponents worldwide.</p>
                        <div class="game-tags">
                            <span class="tag">Cards</span>
                            <span class="tag">Multiplayer</span>
                            <span class="tag">Fast-paced</span>
                        </div>
                        <button class="play-btn" onclick="openLobby('uno')">
                            <i class="fas fa-play"></i> Play UNO
                        </button>
                    </div>
                </div>

                <!-- Chess Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon chess-icon">
                            <i class="fas fa-chess-king"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>3,127 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>Chess</h3>
                        <p>The ultimate game of strategy. Challenge players from around the world in real-time chess matches.</p>
                        <div class="game-tags">
                            <span class="tag">Strategy</span>
                            <span class="tag">1v1</span>
                            <span class="tag">Ranked</span>
                        </div>
                        <button class="play-btn" onclick="openLobby('chess')">
                            <i class="fas fa-play"></i> Play Chess
                        </button>
                    </div>
                </div>

                <!-- Checkers Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon checkers-icon">
                            <i class="fas fa-circle"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>956 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>Checkers</h3>
                        <p>Classic board game of jumping and capturing opponent pieces. Simple rules, deep strategy.</p>
                        <div class="game-tags">
                            <span class="tag">Board Game</span>
                            <span class="tag">1v1</span>
                            <span class="tag">Classic</span>
                        </div>
                        <button class="play-btn" onclick="openLobby('checkers')">
                            <i class="fas fa-play"></i> Play Checkers
                        </button>
                    </div>
                </div>

                <!-- Solitaire Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon solitaire-icon">
                            <i class="fas fa-spade"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>1,542 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>Solitaire</h3>
                        <p>The classic card game you can play alone or compete against others for the fastest time.</p>
                        <div class="game-tags">
                            <span class="tag">Cards</span>
                            <span class="tag">Single Player</span>
                            <span class="tag">Relaxing</span>
                        </div>
                        <button class="play-btn" onclick="openLobby('solitaire')">
                            <i class="fas fa-play"></i> Play Solitaire
                        </button>
                    </div>
                </div>

                <!-- Ultimate Game Card -->
                <div class="game-card">
                    <div class="game-header">
                        <div class="game-icon ultimate-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="online-count">
                            <i class="fas fa-wifi"></i>
                            <span>5,234 online</span>
                        </div>
                    </div>
                    <div class="game-content">
                        <h3>Ultimate Game</h3>
                        <p>Experience four exciting games in one: Lucky Draw Spinner, Mines Game, Prediction Challenge, and Slot Machine. Test your luck and skills!</p>
                        <div class="game-tags">
                            <span class="tag">Multi-Game</span>
                            <span class="tag">Casino</span>
                            <span class="tag">Luck</span>
                        </div>
                        <button class="play-btn" onclick="openGamingPanel()">
                            <i class="fas fa-play"></i> Play Ultimate Game
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>GameHub</h3>
                    <p>The ultimate multiplayer gaming platform. Play with friends or meet new opponents from around the world.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#">Home</a></li>
                        <li><a href="#games">Games</a></li>
                        <li><a href="#">Tournaments</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fab fa-discord"></i> Discord</a></li>
                        <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 GameHub. All rights reserved. | Play responsibly.
            </div>
        </div>
    </footer>

    <!-- Admin Panel Button -->
    <button class="btn btn-admin" onclick="openAdminPanel()">
        <i class="fas fa-user-shield"></i> Admin Panel
    </button>

    <!-- Admin Panel Modal -->
    <div id="adminModal" class="admin-modal">
        <div class="admin-container">
            <div class="admin-header">
                <h2><i class="fas fa-user-shield"></i> GameHub Admin Dashboard</h2>
                <button class="close-admin" onclick="closeAdminPanel()">&times;</button>
            </div>
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="openAdminTab('dashboard')">Dashboard</button>
                <button class="admin-tab" onclick="openAdminTab('players')">Player Management</button>
                <button class="admin-tab" onclick="openAdminTab('games')">Game Control</button>
                <button class="admin-tab" onclick="openAdminTab('rewards')">Rewards System</button>
                <button class="admin-tab" onclick="openAdminTab('analytics')">Analytics</button>
                <button class="admin-tab" onclick="openAdminTab('payments')">Payment Management</button>
            </div>
            <div class="admin-content">
                <!-- Dashboard Tab -->
                <div id="dashboardTab" class="tab-content active">
                    <h3>System Overview</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Players Online</h3>
                            <div class="stat-value">9,168</div>
                        </div>
                        <div class="stat-card">
                            <h3>Active Games</h3>
                            <div class="stat-value">2,347</div>
                        </div>
                        <div class="stat-card">
                            <h3>New Today</h3>
                            <div class="stat-value">482</div>
                        </div>
                        <div class="stat-card">
                            <h3>Revenue (Today)</h3>
                            <div class="stat-value">4,26,750</div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h3><i class="fas fa-sliders-h"></i> Global Game Controls</h3>
                        <div class="control-grid">
                            <div class="control-item">
                                <h4>Dice Control (Ludo)</h4>
                                <p>Control dice outcomes for specific players</p>
                                <div class="slider-container">
                                    <span>1</span>
                                    <input type="range" min="1" max="6" value="3" class="dice-control">
                                    <span>6</span>
                                    <span class="slider-value">3</span>
                                </div>
                                <button class="action-btn control" onclick="forceDiceValue()">Force Dice Value</button>
                            </div>
                            <div class="control-item">
                                <h4>Game Speed</h4>
                                <p>Adjust game speed for all players</p>
                                <div class="slider-container">
                                    <span>Slow</span>
                                    <input type="range" min="1" max="10" value="5" class="speed-control">
                                    <span>Fast</span>
                                    <span class="slider-value">5</span>
                                </div>
                                <button class="action-btn control" onclick="adjustGameSpeed()">Apply Speed</button>
                            </div>
                            <div class="control-item">
                                <h4>Win Probability</h4>
                                <p>Set win probability for selected player</p>
                                <div class="slider-container">
                                    <span>0%</span>
                                    <input type="range" min="0" max="100" value="50" class="win-control">
                                    <span>100%</span>
                                    <span class="slider-value">50%</span>
                                </div>
                                <button class="action-btn control" onclick="setWinProbability()">Set Probability</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button class="action-btn control" onclick="addBotToGame()">Add Bot to Game</button>
                            <button class="action-btn control" onclick="forceGameEnd()">Force Game End</button>
                            <button class="action-btn control" onclick="giveFreeRewards()">Give Free Rewards</button>
                            <button class="action-btn control" onclick="sendGlobalMessage()">Send Global Message</button>
                            <button class="action-btn edit" onclick="simulateHighTraffic()">Simulate High Traffic</button>
                        </div>
                    </div>
                </div>
                
                <!-- Players Tab -->
                <div id="playersTab" class="tab-content">
                    <h3>Player Management</h3>
                    <div class="player-list">
                        <div class="player-item">
                            <div class="player-info">
                                <div class="player-avatar" style="background: #EF5350;">JD</div>
                                <div>
                                    <div style="font-weight: bold;">JohnDoe_123</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Playing: Ludo | Wins: 42</div>
                                </div>
                            </div>
                            <div class="player-actions">
                                <button class="action-btn edit" onclick="editPlayer('JohnDoe_123')">Edit</button>
                                <button class="action-btn control" onclick="controlPlayerGame('JohnDoe_123')">Control Game</button>
                                <button class="action-btn ban" onclick="banPlayer('JohnDoe_123')">Ban</button>
                            </div>
                        </div>
                        <div class="player-item">
                            <div class="player-info">
                                <div class="player-avatar" style="background: #4CAF50;">MS</div>
                                <div>
                                    <div style="font-weight: bold;">MasterShifu</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Playing: Chess | Wins: 128</div>
                                </div>
                            </div>
                            <div class="player-actions">
                                <button class="action-btn edit" onclick="editPlayer('MasterShifu')">Edit</button>
                                <button class="action-btn control" onclick="controlPlayerGame('MasterShifu')">Control Game</button>
                                <button class="action-btn ban" onclick="banPlayer('MasterShifu')">Ban</button>
                            </div>
                        </div>
                        <div class="player-item">
                            <div class="player-info">
                                <div class="player-avatar" style="background: #2196F3;">LP</div>
                                <div>
                                    <div style="font-weight: bold;">LudoPro</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Playing: Ludo | Wins: 256</div>
                                </div>
                            </div>
                            <div class="player-actions">
                                <button class="action-btn edit" onclick="editPlayer('LudoPro')">Edit</button>
                                <button class="action-btn control" onclick="controlPlayerGame('LudoPro')">Control Game</button>
                                <button class="action-btn ban" onclick="banPlayer('LudoPro')">Ban</button>
                            </div>
                        </div>
                        <div class="player-item">
                            <div class="player-info">
                                <div class="player-avatar" style="background: #9C27B0;">UN</div>
                                <div>
                                    <div style="font-weight: bold;">UnoNinja</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Playing: UNO | Wins: 89</div>
                                </div>
                            </div>
                            <div class="player-actions">
                                <button class="action-btn edit" onclick="editPlayer('UnoNinja')">Edit</button>
                                <button class="action-btn control" onclick="controlPlayerGame('UnoNinja')">Control Game</button>
                                <button class="action-btn ban" onclick="banPlayer('UnoNinja')">Ban</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Games Tab -->
                <div id="gamesTab" class="tab-content">
                    <h3>Live Game Control</h3>
                    <div class="control-panel">
                        <h4>Active Ludo Games</h4>
                        <div class="player-list">
                            <div class="player-item">
                                <div class="player-info">
                                    <div style="font-weight: bold;">Game #LUD-4821</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Players: 4 | Turn: Player 3 | Duration: 12:45</div>
                                </div>
                                <div class="player-actions">
                                    <button class="action-btn control" onclick="viewGame('LUD-4821')">View</button>
                                    <button class="action-btn control" onclick="controlGame('LUD-4821')">Control</button>
                                    <button class="action-btn edit" onclick="modifyGame('LUD-4821')">Modify</button>
                                </div>
                            </div>
                            <div class="player-item">
                                <div class="player-info">
                                    <div style="font-weight: bold;">Game #LUD-5123</div>
                                    <div style="font-size: 0.85rem; color: var(--gray);">Players: 2 | Turn: Player 1 | Duration: 05:22</div>
                                </div>
                                <div class="player-actions">
                                    <button class="action-btn control" onclick="viewGame('LUD-5123')">View</button>
                                    <button class="action-btn control" onclick="controlGame('LUD-5123')">Control</button>
                                    <button class="action-btn edit" onclick="modifyGame('LUD-5123')">Modify</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h4>Game Modification Tools</h4>
                        <div class="control-grid">
                            <div class="control-item">
                                <h4>Force Game Result</h4>
                                <p>Manually set winner for any ongoing game</p>
                                <select id="gameSelect" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                    <option value="LUD-4821">Ludo Game #LUD-4821</option>
                                    <option value="LUD-5123">Ludo Game #LUD-5123</option>
                                    <option value="CHS-3321">Chess Game #CHS-3321</option>
                                </select>
                                <input type="text" id="winnerName" placeholder="Winner player name" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                <button class="action-btn control" onclick="forceGameWinner()">Force Winner</button>
                            </div>
                            <div class="control-item">
                                <h4>Add Special Effects</h4>
                                <p>Add special effects to any game</p>
                                <select id="effectSelect" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                    <option value="double_dice">Double Dice (Ludo)</option>
                                    <option value="extra_card">Extra Card (UNO)</option>
                                    <option value="king_boost">King Boost (Chess)</option>
                                    <option value="time_freeze">Time Freeze</option>
                                </select>
                                <button class="action-btn control" onclick="addGameEffect()">Add Effect</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Rewards Tab -->
                <div id="rewardsTab" class="tab-content">
                    <h3>Rewards & Incentives System</h3>
                    <div class="control-panel">
                        <h4>Give Custom Rewards</h4>
                        <div class="control-grid">
                            <div class="control-item">
                                <h4>Give Coins</h4>
                                <input type="text" id="playerForCoins" placeholder="Player username" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                <input type="number" id="coinAmount" placeholder="Amount" min="1" max="100000" value="1000" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                <button class="action-btn control" onclick="giveCoins()">Give Coins</button>
                            </div>
                            <div class="control-item">
                                <h4>Give Power-ups</h4>
                                <input type="text" id="playerForPowerup" placeholder="Player username" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                <select id="powerupSelect" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                    <option value="double_roll">Double Roll (Ludo)</option>
                                    <option value="skip_player">Skip Player (UNO)</option>
                                    <option value="extra_time">Extra Time (Chess)</option>
                                    <option value="premium_theme">Premium Theme</option>
                                </select>
                                <button class="action-btn control" onclick="givePowerup()">Give Power-up</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h4>Global Reward Events</h4>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <button class="action-btn control" onclick="startDoubleCoinsEvent()">2x Coins Event</button>
                            <button class="action-btn control" onclick="startFreeRollsEvent()">Free Rolls Event</button>
                            <button class="action-btn control" onclick="startWeekendBonus()">Weekend Bonus</button>
                            <button class="action-btn control" onclick="giveAllRewards()">Give All Players 500 Coins</button>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics Tab -->
                <div id="analyticsTab" class="tab-content">
                    <h3>Platform Analytics</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Most Played Game</h3>
                            <div class="stat-value">Ludo</div>
                            <div style="font-size: 0.9rem; color: var(--gray);">48% of all games</div>
                        </div>
                        <div class="stat-card">
                            <h3>Avg. Session Time</h3>
                            <div class="stat-value">22 min</div>
                            <div style="font-size: 0.9rem; color: var(--gray);">+5% from last week</div>
                        </div>
                        <div class="stat-card">
                            <h3>Player Retention</h3>
                            <div class="stat-value">68%</div>
                            <div style="font-size: 0.9rem; color: var(--gray);">7-day retention rate</div>
                        </div>
                        <div class="stat-card">
                            <h3>Top Country</h3>
                            <div class="stat-value">India</div>
                            <div style="font-size: 0.9rem; color: var(--gray);">32% of player base</div>
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h4>Player Behavior Analysis</h4>
                        <div class="control-grid">
                            <div class="control-item">
                                <h4>Win/Loss Ratio Manipulation</h4>
                                <p>Adjust to keep players engaged</p>
                                <div class="slider-container">
                                    <span>Easy</span>
                                    <input type="range" min="1" max="10" value="5" class="difficulty-control">
                                    <span>Hard</span>
                                    <span class="slider-value">5</span>
                                </div>
                                <button class="action-btn control" onclick="adjustGameDifficulty()">Adjust Difficulty</button>
                            </div>
                            <div class="control-item">
                                <h4>Matchmaking Bias</h4>
                                <p>Control who plays against whom</p>
                                <select id="matchmakingBias" style="width: 100%; padding: 8px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                                    <option value="balanced">Balanced (Default)</option>
                                    <option value="favor_new">Favor New Players</option>
                                    <option value="favor_paying">Favor Paying Players</option>
                                    <option value="random">Completely Random</option>
                                </select>
                                <button class="action-btn control" onclick="setMatchmakingBias()">Apply Bias</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Payment Management Tab -->
                <div id="paymentsTab" class="tab-content">
                    <h3>Payment Management</h3>
                    
                    <!-- QR Code Management -->
                    <div class="control-panel">
                        <h3><i class="fas fa-qrcode"></i> QR Code Management</h3>
                        <div class="control-item">
                            <h4>Upload Payment QR Code</h4>
                            <p>Add or update the QR code that players will scan to make payments</p>
                            <input type="file" id="qr-code-upload" accept="image/*" style="width: 100%; padding: 10px; margin-bottom: 10px; background: rgba(26,26,46,0.9); color: white; border: 1px solid rgba(67,97,238,0.5); border-radius: 4px;">
                            <button class="action-btn control" onclick="uploadQRCode()">
                                <i class="fas fa-upload"></i> Upload QR Code
                            </button>
                            <div id="qr-preview-container" style="margin-top: 15px; display: none;">
                                <p style="color: var(--success); margin-bottom: 10px;">Current QR Code:</p>
                                <img id="qr-preview" src="" alt="QR Code Preview" style="max-width: 200px; border-radius: 8px; border: 2px solid rgba(255, 215, 0, 0.3);">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pending Payment Requests -->
                    <div class="control-panel">
                        <h3><i class="fas fa-clock"></i> Pending Payment Requests</h3>
                        <div id="pending-payments-list" class="player-list">
                            <div style="text-align: center; padding: 40px; color: var(--gray);">
                                <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                                <p>No pending payment requests</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Approved Payments History -->
                    <div class="control-panel">
                        <h3><i class="fas fa-check-circle"></i> Approved Payments</h3>
                        <div id="approved-payments-list" class="player-list">
                            <div style="text-align: center; padding: 40px; color: var(--gray);">
                                <i class="fas fa-history" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                                <p>No approved payments yet</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Lobby -->
    <div id="gameLobby" class="game-lobby">
        <div class="lobby-container">
            <div class="lobby-header">
                <h2 id="lobbyTitle">Ludo Game Lobby</h2>
                <button class="close-admin" onclick="closeLobby()">&times;</button>
            </div>
            <div class="lobby-content">
                <div class="game-board" id="gameBoard">
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">
                            <i class="fas fa-dice"></i>
                        </div>
                        <h3>Ludo Game Board</h3>
                        <p style="margin-top: 10px;">Waiting for players to join...</p>
                        <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
                            <button class="btn btn-primary" onclick="startGame()">
                                <i class="fas fa-play"></i> Start Game
                            </button>
                            <button class="btn btn-secondary" onclick="inviteFriends()">
                                <i class="fas fa-user-plus"></i> Invite Friends
                            </button>
                        </div>
                    </div>
                </div>
                <div class="lobby-sidebar">
                    <div class="players-container">
                        <h3>Players in Lobby (1/4)</h3>
                        <div class="player">
                            <div class="player-avatar">JD</div>
                            <div>
                                <div style="font-weight: bold;">You (Player123)</div>
                                <div style="font-size: 0.85rem; color: var(--gray);">Ready</div>
                            </div>
                        </div>
                        <div class="player">
                            <div class="player-avatar" style="background: #4CAF50;">AB</div>
                            <div>
                                <div style="font-weight: bold;">Waiting for player...</div>
                                <div style="font-size: 0.85rem; color: var(--gray);">Slot empty</div>
                            </div>
                        </div>
                        <div class="player">
                            <div class="player-avatar" style="background: #9C27B0;">CD</div>
                            <div>
                                <div style="font-weight: bold;">Waiting for player...</div>
                                <div style="font-size: 0.85rem; color: var(--gray);">Slot empty</div>
                            </div>
                        </div>
                        <div class="player">
                            <div class="player-avatar" style="background: #EF5350;">EF</div>
                            <div>
                                <div style="font-weight: bold;">Waiting for player...</div>
                                <div style="font-size: 0.85rem; color: var(--gray);">Slot empty</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-container">
                        <h3>Game Chat</h3>
                        <div class="chat-messages" id="chatMessages">
                            <div style="padding: 5px 0; color: var(--gray);">System: Welcome to the game lobby!</div>
                            <div style="padding: 5px 0;">Player123: Hello everyone!</div>
                            <div style="padding: 5px 0; color: var(--success);">Admin: This is a hidden admin message. Players can't see this.</div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Type your message...">
                            <button class="action-btn control" onclick="sendChatMessage()">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Buy Coins Modal -->
    <div id="buyCoinsModal" class="admin-modal">
        <div class="admin-container" style="max-width: 700px;">
            <div class="admin-header">
                <h2><i class="fas fa-coins"></i> Buy Coins</h2>
                <button class="close-admin" onclick="closeBuyCoinsModal()">&times;</button>
            </div>
            <div class="admin-content">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 2.5rem; color: #ffd700; margin-bottom: 10px;">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <p style="color: var(--light-gray); font-size: 1.1rem;">Choose a coin package to purchase</p>
                    <p style="color: var(--gray); font-size: 0.9rem; margin-top: 5px;">Coins will be instantly added to your account</p>
                </div>
                
                <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                    <div class="stat-card" onclick="openPaymentModal(100, 10, 'Starter Pack')" style="cursor: pointer; transition: transform 0.3s; border: 1px solid rgba(255, 215, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#ffd700';" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255, 215, 0, 0.3)';">
                        <h3 style="color: #ffd700;">Starter Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">100 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">10</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--gray);">0.10 per coin</div>
                    </div>
                    <div class="stat-card" onclick="openPaymentModal(500, 50, 'Basic Pack')" style="cursor: pointer; transition: transform 0.3s; border: 1px solid rgba(255, 215, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#ffd700';" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255, 215, 0, 0.3)';">
                        <h3 style="color: #ffd700;">Basic Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">500 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">50</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--gray);">0.10 per coin</div>
                    </div>
                    <div class="stat-card" onclick="openPaymentModal(1000, 100, 'Popular Pack')" style="cursor: pointer; transition: transform 0.3s; border: 2px solid var(--accent); position: relative;" onmouseover="this.style.transform='scale(1.05)';" onmouseout="this.style.transform='scale(1)';">
                        <div style="position: absolute; top: -10px; right: 10px; background: var(--accent); color: white; padding: 5px 10px; border-radius: 10px; font-size: 0.75rem; font-weight: bold;">BEST VALUE!</div>
                        <h3 style="color: #ffd700;">Popular Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">1,000 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">100</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--success);">0.10 per coin</div>
                        <div style="margin-top: 5px; font-size: 0.9rem; color: var(--success);">Standard Rate!</div>
                    </div>
                    <div class="stat-card" onclick="openPaymentModal(2000, 200, 'Premium Pack')" style="cursor: pointer; transition: transform 0.3s; border: 1px solid rgba(255, 215, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#ffd700';" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255, 215, 0, 0.3)';">
                        <h3 style="color: #ffd700;">Premium Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">2,000 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">200</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--gray);">0.10 per coin</div>
                    </div>
                    <div class="stat-card" onclick="openPaymentModal(5000, 500, 'Mega Pack')" style="cursor: pointer; transition: transform 0.3s; border: 1px solid rgba(255, 215, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#ffd700';" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255, 215, 0, 0.3)';">
                        <h3 style="color: #ffd700;">Mega Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">5,000 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">500</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--gray);">0.10 per coin</div>
                    </div>
                    <div class="stat-card" onclick="openPaymentModal(10000, 1000, 'Ultimate Pack')" style="cursor: pointer; transition: transform 0.3s; border: 1px solid rgba(255, 215, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'; this.style.borderColor='#ffd700';" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255, 215, 0, 0.3)';">
                        <h3 style="color: #ffd700;">Ultimate Pack</h3>
                        <div class="stat-value" style="font-size: 1.8rem; color: #ffd700;">10,000 Coins</div>
                        <div style="margin-top: 10px; font-size: 1.2rem; color: var(--accent); font-weight: bold;">1,000</div>
                        <div style="margin-top: 5px; font-size: 0.85rem; color: var(--gray);">0.10 per coin</div>
                    </div>
                </div>
                
                <div style="background: rgba(255, 215, 0, 0.1); padding: 20px; border-radius: 10px; border: 1px solid rgba(255, 215, 0, 0.3); margin-bottom: 20px;">
                    <h4 style="color: #ffd700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-shield-alt"></i> Secure Payment Methods
                    </h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 15px;">
                        <div style="display: flex; align-items: center; gap: 8px; color: var(--light-gray);">
                            <i class="fas fa-mobile-alt" style="color: var(--success);"></i> Khalti / eSewa / IME Pay
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; color: var(--light-gray);">
                            <i class="fas fa-university" style="color: var(--primary);"></i> Bank Transfer
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; color: var(--light-gray);">
                            <i class="fas fa-credit-card" style="color: var(--accent);"></i> Debit/Credit Card
                        </div>
                    </div>
                    <p style="color: var(--light-gray); text-align: center; margin-top: 15px; font-size: 0.95rem;">
                        <i class="fas fa-clock" style="color: #ffd700;"></i> Coins will be added after admin approval
                    </p>
                </div>

                <div style="text-align: center;">
                    <button class="coin-guide-btn" onclick="closeBuyCoinsModal(); openCoinGuideModal();" style="background: linear-gradient(135deg, #4361ee, #3a0ca3); padding: 10px 20px; font-size: 1rem;">
                        <i class="fas fa-book"></i> Learn How Coins Work
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="admin-modal">
        <div class="admin-container" style="max-width: 600px;">
            <div class="admin-header">
                <h2><i class="fas fa-qrcode"></i> Complete Payment</h2>
                <button class="close-admin" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="admin-content">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h3 style="color: #ffd700; margin-bottom: 10px;" id="payment-package-name">Starter Pack</h3>
                    <p style="color: var(--light-gray); font-size: 1.1rem;">
                        <span id="payment-coins">100</span> Coins - <span id="payment-price">10</span>
                    </p>
                </div>

                <!-- QR Code Section -->
                <div style="text-align: center; margin-bottom: 30px; padding: 20px; background: rgba(0, 0, 0, 0.3); border-radius: 15px;">
                    <h4 style="color: #ffd700; margin-bottom: 15px;">Scan QR Code to Pay</h4>
                    <div id="qr-code-container" style="display: flex; justify-content: center; margin-bottom: 15px;">
                        <div id="qr-code-placeholder" style="width: 250px; height: 250px; background: rgba(255, 255, 255, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center; border: 2px dashed rgba(255, 215, 0, 0.3);">
                            <div style="text-align: center; color: var(--gray);">
                                <i class="fas fa-qrcode" style="font-size: 3rem; margin-bottom: 10px;"></i>
                                <p>QR Code will appear here</p>
                                <p style="font-size: 0.85rem; margin-top: 5px;">(Admin can add QR code from Admin Panel)</p>
                            </div>
                        </div>
                        <img id="qr-code-image" src="" alt="QR Code" style="max-width: 250px; max-height: 250px; border-radius: 10px; display: none;">
                    </div>
                    <p style="color: var(--gray); font-size: 0.9rem;">
                        Scan the QR code with your payment app (Khalti, eSewa, IME Pay, etc.)
                    </p>
                </div>

                <!-- Payment Details Form -->
                <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <h4 style="color: #ffd700; margin-bottom: 15px;">Payment Details</h4>
                    <form id="payment-form" onsubmit="submitPaymentRequest(event)">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: var(--light-gray); margin-bottom: 5px;">Your Name *</label>
                            <input type="text" id="payment-name" required style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;" placeholder="Enter your full name">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: var(--light-gray); margin-bottom: 5px;">Phone Number *</label>
                            <input type="tel" id="payment-phone" required style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;" placeholder="Enter your phone number">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: var(--light-gray); margin-bottom: 5px;">Amount Paid (NPR) *</label>
                            <input type="number" id="payment-amount" required step="1" min="10" style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;" placeholder="Minimum: 10">
                            <p style="color: var(--gray); font-size: 0.85rem; margin-top: 5px;">Expected: <span id="payment-expected-amount">10</span> | Rate: 10 coins per NPR</p>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: var(--light-gray); margin-bottom: 5px;">Payment Method *</label>
                            <select id="payment-method" required style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                                <option value="">Select payment method</option>
                                <option value="khalti">Khalti</option>
                                <option value="esewa">eSewa</option>
                                <option value="imepay">IME Pay</option>
                                <option value="bank">Bank Transfer</option>
                                <option value="card">Debit/Credit Card</option>
                            </select>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: var(--light-gray); margin-bottom: 5px;">Transaction ID / Reference (Optional)</label>
                            <input type="text" id="payment-reference" style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;" placeholder="Enter transaction ID if available">
                        </div>
                        <button type="submit" class="gaming-btn" style="width: 100%; margin-top: 10px;">
                            <i class="fas fa-paper-plane"></i> Submit Payment Request
                        </button>
                    </form>
                </div>

                <div style="background: rgba(76, 201, 240, 0.1); padding: 15px; border-radius: 10px; border: 1px solid rgba(76, 201, 240, 0.3);">
                    <p style="color: var(--light-gray); text-align: center; margin: 0; font-size: 0.9rem;">
                        <i class="fas fa-info-circle" style="color: var(--success);"></i> 
                        After submitting, admin will review your payment and approve it. You'll receive coins once approved.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Coin System Guide Modal -->
    <div id="coinGuideModal" class="admin-modal">
        <div class="admin-container" style="max-width: 1000px;">
            <div class="admin-header">
                <h2><i class="fas fa-book"></i> Coin System Guide</h2>
                <button class="close-admin" onclick="closeCoinGuideModal()">&times;</button>
            </div>
            <div class="admin-content" style="max-height: 80vh; overflow-y: auto;">
                <!-- Hero Section -->
                <div style="text-align: center; margin-bottom: 40px; padding: 30px; background: linear-gradient(135deg, rgba(255, 140, 0, 0.1), rgba(255, 215, 0, 0.1)); border-radius: 15px;">
                    <h1 style="font-size: 2.5rem; margin-bottom: 15px; background: linear-gradient(to right, #ffd700, #ff8c00); -webkit-background-clip: text; background-clip: text; color: transparent;">
                         Level Up Your Game with GameHub Coins!
                    </h1>
                    <p style="font-size: 1.2rem; color: var(--light-gray); line-height: 1.6;">
                        Unlock Exclusive Content, Boost Your Progress, and Stand Out from the Crowd!
                    </p>
                </div>

                <!-- How It Works Section -->
                <div style="margin-bottom: 40px;">
                    <h2 style="color: var(--accent); margin-bottom: 20px; font-size: 1.8rem; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 2rem;"></span> How Do Coins Work?
                    </h2>
                    <p style="color: var(--light-gray); line-height: 1.8; margin-bottom: 20px; font-size: 1.1rem;">
                        Coins are the premium in-game currency you can use to enhance your gameplay experience. Here's what you can do with them:
                    </p>
                    
                    <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 25px;">
                        <div class="stat-card" style="padding: 20px;">
                            <h3 style="color: #ffd700; margin-bottom: 10px;"><i class="fas fa-ticket-alt"></i> Enter Games</h3>
                            <p style="color: var(--light-gray); line-height: 1.6;">Use coins to join matches and tournaments</p>
                        </div>
                        <div class="stat-card" style="padding: 20px;">
                            <h3 style="color: #ffd700; margin-bottom: 10px;"><i class="fas fa-trophy"></i> Win Rewards</h3>
                            <p style="color: var(--light-gray); line-height: 1.6;">Earn coins when you win matches and competitions</p>
                        </div>
                        <div class="stat-card" style="padding: 20px;">
                            <h3 style="color: #ffd700; margin-bottom: 10px;"><i class="fas fa-star"></i> Unlock Features</h3>
                            <p style="color: var(--light-gray); line-height: 1.6;">Access premium tournaments and exclusive content</p>
                        </div>
                        <div class="stat-card" style="padding: 20px;">
                            <h3 style="color: #ffd700; margin-bottom: 10px;"><i class="fas fa-gift"></i> Redeem Prizes</h3>
                            <p style="color: var(--light-gray); line-height: 1.6;">Convert coins to rewards and special gifts</p>
                        </div>
                    </div>
                </div>

                <!-- Step by Step Guide -->
                <div style="margin-bottom: 40px;">
                    <h2 style="color: var(--accent); margin-bottom: 25px; font-size: 1.8rem;">
                         How It Works - Step by Step
                    </h2>
                    
                    <div style="position: relative;">
                        <!-- Step 1 -->
                        <div style="display: flex; gap: 20px; margin-bottom: 30px; align-items: flex-start;">
                            <div style="background: linear-gradient(135deg, #ff8c00, #ffd700); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: #000; flex-shrink: 0;">
                                1
                            </div>
                            <div style="flex: 1;">
                                <h3 style="color: var(--light); margin-bottom: 10px; font-size: 1.3rem;">Buy Coins</h3>
                                <p style="color: var(--light-gray); line-height: 1.8; margin-bottom: 15px;">
                                    Click "Buy Coins" in the navigation bar, choose your preferred package, select a payment method (Khalti, eSewa, IME Pay, Bank Transfer, or Card), and complete the purchase. Coins are added instantly!
                                </p>
                                <div style="background: rgba(67, 97, 238, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid var(--primary);">
                                    <p style="color: var(--light-gray); margin: 0 0 10px 0;"><strong style="color: var(--primary);"> Payment Methods Available:</strong></p>
                                    <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                                        <span style="display: flex; align-items: center; gap: 6px; color: var(--light-gray);"><i class="fas fa-mobile-alt" style="color: var(--success);"></i> Khalti</span>
                                        <span style="display: flex; align-items: center; gap: 6px; color: var(--light-gray);"><i class="fas fa-mobile-alt" style="color: var(--success);"></i> eSewa</span>
                                        <span style="display: flex; align-items: center; gap: 6px; color: var(--light-gray);"><i class="fas fa-mobile-alt" style="color: var(--success);"></i> IME Pay</span>
                                        <span style="display: flex; align-items: center; gap: 6px; color: var(--light-gray);"><i class="fas fa-university" style="color: var(--primary);"></i> Bank Transfer</span>
                                        <span style="display: flex; align-items: center; gap: 6px; color: var(--light-gray);"><i class="fas fa-credit-card" style="color: var(--accent);"></i> Debit/Credit Card</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2 -->
                        <div style="display: flex; gap: 20px; margin-bottom: 30px; align-items: flex-start;">
                            <div style="background: linear-gradient(135deg, #ff8c00, #ffd700); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: #000; flex-shrink: 0;">
                                2
                            </div>
                            <div style="flex: 1;">
                                <h3 style="color: var(--light); margin-bottom: 10px; font-size: 1.3rem;">Enter Games Using Coins</h3>
                                <p style="color: var(--light-gray); line-height: 1.8; margin-bottom: 10px;">
                                    Every game has an entry fee in coins. Use your coins to join and start playing anytime!
                                </p>
                                <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 10px; margin-top: 10px;">
                                    <p style="color: var(--light-gray); margin: 0 0 10px 0;"><strong style="color: #ffd700;">Example Entry Fees:</strong></p>
                                    <ul style="color: var(--light-gray); line-height: 2; margin-top: 8px; list-style: none; padding: 0;">
                                        <li><i class="fas fa-dice" style="color: var(--primary); margin-right: 8px;"></i> Ludo Entry: <span style="color: #ffd700; font-weight: bold;">10 Coins</span></li>
                                        <li><i class="fas fa-club" style="color: var(--success); margin-right: 8px;"></i> UNO Entry: <span style="color: #ffd700; font-weight: bold;">20 Coins</span></li>
                                        <li><i class="fas fa-chess-king" style="color: #795548; margin-right: 8px;"></i> Chess Entry: <span style="color: #ffd700; font-weight: bold;">15 Coins</span></li>
                                        <li><i class="fas fa-sync-alt" style="color: var(--accent); margin-right: 8px;"></i> Spin Wheel: <span style="color: #ffd700; font-weight: bold;">5 Coins</span></li>
                                        <li><i class="fas fa-bomb" style="color: var(--danger); margin-right: 8px;"></i> Mines Game: <span style="color: #ffd700; font-weight: bold;">10 Coins</span></li>
                                        <li><i class="fas fa-sliders-h" style="color: #ffd700; margin-right: 8px;"></i> Slot Machine: <span style="color: #ffd700; font-weight: bold;">5 Coins</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div style="display: flex; gap: 20px; margin-bottom: 30px; align-items: flex-start;">
                            <div style="background: linear-gradient(135deg, #ff8c00, #ffd700); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: #000; flex-shrink: 0;">
                                3
                            </div>
                            <div style="flex: 1;">
                                <h3 style="color: var(--light); margin-bottom: 10px; font-size: 1.3rem;">Win More Coins</h3>
                                <p style="color: var(--light-gray); line-height: 1.8;">
                                    When you win a match, you earn extra coins depending on the game rules and your performance. The more you play, the more you win! Coins are distributed based on:
                                </p>
                                <ul style="color: var(--light-gray); line-height: 2; margin-top: 10px; list-style: none; padding: 0;">
                                    <li><i class="fas fa-star" style="color: #ffd700; margin-right: 8px;"></i> Match results (win/loss ratio)</li>
                                    <li><i class="fas fa-trophy" style="color: #ffd700; margin-right: 8px;"></i> Tournament performance</li>
                                    <li><i class="fas fa-chart-line" style="color: #ffd700; margin-right: 8px;"></i> Game difficulty and stakes</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Step 4 -->
                        <div style="display: flex; gap: 20px; margin-bottom: 30px; align-items: flex-start;">
                            <div style="background: linear-gradient(135deg, #ff8c00, #ffd700); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: #000; flex-shrink: 0;">
                                4
                            </div>
                            <div style="flex: 1;">
                                <h3 style="color: var(--light); margin-bottom: 10px; font-size: 1.3rem;">Convert Coins to Rewards</h3>
                                <p style="color: var(--light-gray); line-height: 1.8; margin-bottom: 10px;">
                                    Coins can be used to:
                                </p>
                                <ul style="color: var(--light-gray); line-height: 2; list-style: none; padding: 0;">
                                    <li><i class="fas fa-ticket-alt" style="color: var(--primary); margin-right: 8px;"></i> Enter premium tournaments</li>
                                    <li><i class="fas fa-unlock" style="color: var(--accent); margin-right: 8px;"></i> Unlock exclusive features</li>
                                    <li><i class="fas fa-gift" style="color: var(--success); margin-right: 8px;"></i> Redeem gifts and prizes</li>
                                    <li><i class="fas fa-star" style="color: #ffd700; margin-right: 8px;"></i> Purchase power-ups and boosts</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Why Use Coins -->
                <div style="margin-bottom: 40px; background: linear-gradient(135deg, rgba(76, 201, 240, 0.1), rgba(67, 97, 238, 0.1)); padding: 25px; border-radius: 15px;">
                    <h2 style="color: var(--success); margin-bottom: 20px; font-size: 1.8rem;">
                         Why Use Coins?
                    </h2>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;"><i class="fas fa-bolt"></i> Fast & Secure Payments</h4>
                            <p style="color: var(--light-gray); font-size: 0.95rem; margin: 0;">Multiple payment options with instant processing</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;"><i class="fas fa-gamepad"></i> Instant Gameplay Access</h4>
                            <p style="color: var(--light-gray); font-size: 0.95rem; margin: 0;">No lag, no waiting - join games immediately</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;"><i class="fas fa-shield-alt"></i> Safe Balance Tracking</h4>
                            <p style="color: var(--light-gray); font-size: 0.95rem; margin: 0;">Your coins are securely stored and tracked</p>
                        </div>
                        <div style="background: rgba(0, 0, 0, 0.2); padding: 15px; border-radius: 10px;">
                            <h4 style="color: var(--success); margin-bottom: 8px;"><i class="fas fa-gift"></i> Bonus Coins & Events</h4>
                            <p style="color: var(--light-gray); font-size: 0.95rem; margin: 0;">Get bonus coins during special events</p>
                        </div>
                    </div>
                </div>

                <!-- FAQ Section -->
                <div style="margin-bottom: 40px;">
                    <h2 style="color: var(--accent); margin-bottom: 25px; font-size: 1.8rem;">
                         Frequently Asked Questions
                    </h2>
                    
                    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">
                            Q: Can I transfer Coins to another player?
                        </h4>
                        <p style="color: var(--light-gray); line-height: 1.6; margin: 0;">
                            A: Coins are bound to your account for security purposes, but you can gift items and participate in games with friends!
                        </p>
                    </div>

                    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">
                            Q: Do Coins expire?
                        </h4>
                        <p style="color: var(--light-gray); line-height: 1.6; margin: 0;">
                            A: No! Your Coins stay in your account until you use them. They never expire.
                        </p>
                    </div>

                    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">
                            Q: What if I don't see my Coins after purchasing?
                        </h4>
                        <p style="color: var(--light-gray); line-height: 1.6; margin: 0;">
                            A: Try refreshing the page or restarting the game. If they're still missing, contact our support team with your receipt, and we'll resolve it immediately.
                        </p>
                    </div>

                    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">
                            Q: Are there sales or discounts?
                        </h4>
                        <p style="color: var(--light-gray); line-height: 1.6; margin: 0;">
                            A: Yes! Follow our social media and check the store regularly for limited-time offers, bonus coin events, and special promotions.
                        </p>
                    </div>

                    <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px; font-size: 1.1rem;">
                            Q: How do I earn free coins?
                        </h4>
                        <p style="color: var(--light-gray); line-height: 1.6; margin: 0;">
                            A: Complete daily challenges, participate in special events, invite friends to join, and watch rewarded ads for bonus coins!
                        </p>
                    </div>
                </div>

                <!-- CTA Section -->
                <div style="text-align: center; padding: 30px; background: linear-gradient(135deg, rgba(255, 140, 0, 0.2), rgba(255, 215, 0, 0.2)); border-radius: 15px; border: 2px solid rgba(255, 215, 0, 0.3);">
                    <h2 style="color: #ffd700; margin-bottom: 15px; font-size: 1.8rem;">
                         Start Playing Now!
                    </h2>
                    <p style="color: var(--light-gray); margin-bottom: 25px; font-size: 1.1rem;">
                        Buy coins  Join games  Win big!
                    </p>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="gaming-btn" onclick="closeCoinGuideModal(); openBuyCoinsModal();" style="max-width: 200px;">
                            <i class="fas fa-shopping-cart"></i> Buy Coins Now
                        </button>
                        <button class="gaming-btn" onclick="closeCoinGuideModal(); document.getElementById('games').scrollIntoView({behavior: 'smooth'});" style="max-width: 200px; background: linear-gradient(135deg, #4361ee, #3a0ca3);">
                            <i class="fas fa-gamepad"></i> Browse Games
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Watch and Earn Modal -->
    <div id="watchAndEarnModal" class="admin-modal">
        <div class="admin-container" style="max-width: 1000px;">
            <div class="admin-header">
                <h2><i class="fas fa-video"></i> Watch and Earn</h2>
                <button class="close-admin" onclick="closeWatchAndEarnModal()">&times;</button>
            </div>
            <div class="admin-content">
                <!-- Title and Subtitle -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <h1 style="color: var(--accent); font-size: 2.5rem; margin-bottom: 10px;">
                        Earn Coins Simply By Watching Videos!
                    </h1>
                    <p style="color: var(--light-gray); font-size: 1.2rem;">
                        Turn your screen time into rewards with our simple, fun, and transparent system.
                    </p>
                </div>

                <!-- Introduction -->
                <div style="background: rgba(67, 97, 238, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 30px;">
                    <p style="color: var(--light-gray); line-height: 1.8; font-size: 1.1rem;">
                        Welcome to our platform, the place that rewards your curiosity! Every video you watch earns you digital coins, 
                        which you can redeem for real-world prizes. It's that simple.
                    </p>
                </div>

                <!-- Stats Cards -->
                <div class="watch-earn-stats">
                    <div class="watch-earn-stat-card">
                        <i class="fas fa-coins" style="font-size: 2rem; color: var(--accent);"></i>
                        <h3 id="watch-today-earnings">0.00</h3>
                        <p>Coins Earned Today</p>
                    </div>
                    <div class="watch-earn-stat-card">
                        <i class="fas fa-video" style="font-size: 2rem; color: var(--accent);"></i>
                        <h3 id="watch-videos-today">0</h3>
                        <p>Videos Watched Today</p>
                    </div>
                    <div class="watch-earn-stat-card">
                        <i class="fas fa-fire" style="font-size: 2rem; color: var(--accent);"></i>
                        <h3 id="watch-streak-days">0</h3>
                        <p>Day Streak</p>
                    </div>
                    <div class="watch-earn-stat-card">
                        <i class="fas fa-trophy" style="font-size: 2rem; color: var(--accent);"></i>
                        <h3 id="watch-total-videos">0</h3>
                        <p>Total Videos Watched</p>
                    </div>
                </div>

                <!-- How It Works -->
                <div style="margin: 40px 0;">
                    <h2 style="color: var(--accent); margin-bottom: 20px; text-align: center;">
                        <i class="fas fa-info-circle"></i> How It Works (The 3-Step Process)
                    </h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="background: rgba(67, 97, 238, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;">1</div>
                            <h3 style="color: white; margin-bottom: 10px;">WATCH</h3>
                            <p style="color: var(--light-gray);">Browse our curated library of short, interesting videos and press play.</p>
                        </div>
                        <div style="background: rgba(67, 97, 238, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;">2</div>
                            <h3 style="color: white; margin-bottom: 10px;">EARN</h3>
                            <p style="color: var(--light-gray);">For every full video you watch, you instantly earn 0.20 coins.</p>
                        </div>
                        <div style="background: rgba(67, 97, 238, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;">3</div>
                            <h3 style="color: white; margin-bottom: 10px;">REDEEM</h3>
                            <p style="color: var(--light-gray);">Exchange your coins for gift cards, PayPal cash, or exclusive perks.</p>
                        </div>
                    </div>
                </div>

                <!-- Current Video Player -->
                <div id="current-video-container" style="display: none; margin-bottom: 30px;">
                    <div class="watch-earn-video-container">
                        <div class="watch-earn-video" id="current-video">
                            <!-- Video content will be inserted here -->
                        </div>
                        <div class="video-progress-bar">
                            <div class="video-progress-fill" id="video-progress-fill"></div>
                        </div>
                    </div>
                    <div class="video-controls">
                        <button class="video-btn" id="play-video-btn" onclick="if(watchEarnData.currentVideo) startWatchingVideo(watchEarnData.currentVideo)">
                            <i class="fas fa-play"></i> Start Watching
                        </button>
                        <button class="video-btn" id="skip-video-btn" onclick="stopCurrentVideo()" style="background: var(--gray);">
                            <i class="fas fa-times"></i> Close
                        </button>
                    </div>
                </div>

                <!-- Video Library -->
                <div style="margin-top: 40px;">
                    <h2 style="color: var(--accent); margin-bottom: 20px;">
                        <i class="fas fa-film"></i> Available Videos
                    </h2>
                    <div id="video-library-container" class="video-list">
                        <!-- Videos will be loaded here -->
                    </div>
                </div>

                <!-- Coin System Breakdown -->
                <div style="margin: 40px 0; background: rgba(0, 0, 0, 0.3); padding: 25px; border-radius: 15px;">
                    <h2 style="color: var(--accent); margin-bottom: 20px;">
                        <i class="fas fa-coins"></i> The Coin System: Your Earnings Breakdown
                    </h2>
                    <ul style="color: var(--light-gray); line-height: 2; list-style: none; padding-left: 0;">
                        <li style="margin-bottom: 15px;">
                            <i class="fas fa-check-circle" style="color: var(--accent); margin-right: 10px;"></i>
                            <strong>Base Reward:</strong> You earn 0.20 coins for every complete video watch.
                        </li>
                        <li style="margin-bottom: 15px;">
                            <i class="fas fa-check-circle" style="color: var(--accent); margin-right: 10px;"></i>
                            <strong>Daily Bonus:</strong> Log in consecutively to earn streak bonuses (+10 coins on your 7th day).
                        </li>
                        <li style="margin-bottom: 15px;">
                            <i class="fas fa-check-circle" style="color: var(--accent); margin-right: 10px;"></i>
                            <strong>Referral Bonus:</strong> Invite a friend using your code. When they join and watch their first video, you both get +5 coins.
                        </li>
                        <li>
                            <i class="fas fa-check-circle" style="color: var(--accent); margin-right: 10px;"></i>
                            <strong>Special Challenges:</strong> Complete daily or weekly missions for bonus coin packs.
                        </li>
                    </ul>
                </div>

                <!-- Example Earnings -->
                <div style="margin: 40px 0; background: rgba(255, 215, 0, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255, 215, 0, 0.3);">
                    <h3 style="color: var(--accent); margin-bottom: 15px;">
                        <i class="fas fa-calculator"></i> Example of Your Potential Earnings:
                    </h3>
                    <p style="color: var(--light-gray); line-height: 1.8;">
                        Watch 10 videos in a day = 10  0.20 = <strong style="color: var(--accent);">2.0 coins</strong><br>
                        Daily login streak bonus = <strong style="color: var(--accent);">+0.5 coins</strong><br>
                        <strong style="color: var(--accent); font-size: 1.2rem;">Total for the day: 2.5 coins</strong>
                    </p>
                </div>

                <!-- Important Rules -->
                <div style="margin: 40px 0; background: rgba(255, 100, 100, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255, 100, 100, 0.3);">
                    <h3 style="color: #ff6b6b; margin-bottom: 15px;">
                        <i class="fas fa-exclamation-triangle"></i> Important Rules & Fair Play:
                    </h3>
                    <ul style="color: var(--light-gray); line-height: 2; list-style: none; padding-left: 0;">
                        <li style="margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #ff6b6b; margin-right: 10px;"></i>
                            <strong>Completion is Key:</strong> You must watch the entire video to receive the 0.20 coins.
                        </li>
                        <li style="margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #ff6b6b; margin-right: 10px;"></i>
                            <strong>One Reward Per View:</strong> You can only earn coins for watching a specific video once.
                        </li>
                        <li style="margin-bottom: 10px;">
                            <i class="fas fa-info-circle" style="color: #ff6b6b; margin-right: 10px;"></i>
                            <strong>Daily Limit:</strong> You can watch up to 50 videos per day to earn coins.
                        </li>
                        <li>
                            <i class="fas fa-info-circle" style="color: #ff6b6b; margin-right: 10px;"></i>
                            <strong>Withdrawal Minimum:</strong> You need a minimum balance (e.g., 100 coins) to request a redemption.
                        </li>
                    </ul>
                </div>

                <!-- FAQs -->
                <div class="faq-section">
                    <h2 style="color: var(--accent); margin-bottom: 25px; text-align: center;">
                        <i class="fas fa-question-circle"></i> Frequently Asked Questions
                    </h2>
                    <div class="faq-item">
                        <div class="faq-question">Q: How much is a coin worth in real money?</div>
                        <div class="faq-answer">
                            A: The value depends on the reward. For example, a $5 Amazon Gift Card might cost 250 coins. 
                            This makes each coin worth approximately $0.02, meaning your 0.20 coins per video are worth about $0.004. It adds up as you watch more!
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Q: When do I get my coins?</div>
                        <div class="faq-answer">
                            A: Coins are credited to your wallet instantly after the video completes.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Q: Are there any limits?</div>
                        <div class="faq-answer">
                            A: Yes, to ensure system health, there is a daily cap on the number of videos you can earn from (50 videos per day).
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Q: Is my data safe?</div>
                        <div class="faq-answer">
                            A: Absolutely. We only collect necessary data to operate the reward system. Please read our Privacy Policy for details.
                        </div>
                    </div>
                </div>

                <!-- Disclaimer -->
                <div style="margin-top: 40px; padding: 20px; background: rgba(0, 0, 0, 0.5); border-radius: 10px; border-left: 4px solid var(--gray);">
                    <p style="color: var(--gray); font-size: 0.9rem; line-height: 1.6; font-style: italic;">
                        <strong>Disclaimer:</strong> This is a rewards platform for entertainment. It is not a substitute for employment or a guaranteed income source. 
                        Rewards are subject to availability, and terms may change. Always refer to the in-app terms and conditions for the most accurate information.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Gaming Panel Modal -->
    <div id="gamingPanelModal" class="gaming-panel-modal">
        <button class="gaming-panel-close" onclick="closeGamingPanel()">&times;</button>
        <div class="gaming-panel-container">
            <div class="gaming-panel-header">
                <h1><i class="fas fa-gamepad"></i> Ultimate Game</h1>
                <p class="subtitle">Experience four exciting games in one place: Lucky Draw Spinner, Mines Game, Prediction Challenge, and Slot Machine. Test your luck and skills!</p>
            </div>
            
            <div class="game-tabs">
                <button class="game-tab-btn active" data-game="lucky-draw">
                    <i class="fas fa-sync-alt"></i> Lucky Draw Spin
                </button>
                <button class="game-tab-btn" data-game="mines">
                    <i class="fas fa-bomb"></i> Mines Game
                </button>
                <button class="game-tab-btn" data-game="prediction">
                    <i class="fas fa-crystal-ball"></i> Prediction Game
                </button>
                <button class="game-tab-btn" data-game="slot">
                    <i class="fas fa-sliders-h"></i> Slot Machine
                </button>
            </div>
            
            <div class="gaming-panel-content">
                <!-- Lucky Draw Panel -->
                <div class="game-panel-section active" id="lucky-draw-panel">
                    <div class="gaming-game-header">
                        <h2 class="gaming-game-title">Lucky Draw Spinner</h2>
                        <div class="gaming-balance-panel">
                            <i class="fas fa-coins"></i>
                            Balance: <span class="gaming-balance-amount" id="lucky-balance">1000</span> coins
                        </div>
                    </div>
                    
                    <div class="gaming-game-content">
                        <div class="gaming-game-area">
                            <div class="wheel-container">
                                <div class="wheel-pointer">
                                    <i class="fas fa-caret-down"></i>
                                </div>
                                <div class="wheel" id="wheel"></div>
                            </div>
                            
                            <div class="gaming-slot-result" id="lucky-result">
                                Spin the wheel to win prizes!
                            </div>
                        </div>
                        
                        <div class="gaming-controls">
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Bet Amount: <span id="lucky-bet-value">10</span> coins</label>
                                <div class="gaming-slider-container">
                                    <span>10</span>
                                    <input type="range" id="lucky-bet-slider" class="gaming-input-range" min="10" max="200" step="10" value="10">
                                    <span>200</span>
                                </div>
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Potential Prizes:</label>
                                <div class="gaming-game-history" id="potential-prizes">
                                    <div class="gaming-history-item">
                                        <span>Green (x10)</span>
                                        <span class="gaming-history-win" id="prize-green">Win 10 coins</span>
                                    </div>
                                    <div class="gaming-history-item">
                                        <span>Pink (x20)</span>
                                        <span class="gaming-history-win" id="prize-pink">Win 20 coins</span>
                                    </div>
                                    <div class="gaming-history-item">
                                        <span>Orange (x3)</span>
                                        <span class="gaming-history-win" id="prize-orange">Win 30 coins</span>
                                    </div>
                                    <div class="gaming-history-item">
                                        <span>Try Again</span>
                                        <span class="gaming-history-win" style="color: #ff6b6b;">No win</span>
                                    </div>
                                    <div class="gaming-history-item">
                                        <span>Mystery Box</span>
                                        <span class="gaming-history-win" style="color: #ffd700;">Random prize</span>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="gaming-btn" id="spin-btn">
                                <i class="fas fa-redo-alt"></i> Spin the Wheel (10 coins)
                            </button>
                            
                            <div class="gaming-game-history">
                                <div class="gaming-history-title">Recent Spins</div>
                                <div id="lucky-history"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mines Game Panel -->
                <div class="game-panel-section" id="mines-panel">
                    <div class="gaming-game-header">
                        <h2 class="gaming-game-title">Mines Game</h2>
                        <div class="gaming-balance-panel">
                            <i class="fas fa-coins"></i>
                            Balance: <span class="gaming-balance-amount" id="mines-balance">1000</span> coins
                        </div>
                    </div>
                    
                    <div class="gaming-game-content">
                        <div class="gaming-game-area">
                            <div class="mines-grid" id="mines-grid"></div>
                            
                            <div class="gaming-slot-result" id="mines-result">
                                Select 3 mines and 12 gems. Click cells to reveal!
                            </div>
                        </div>
                        
                        <div class="gaming-controls">
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Bet Amount: <span id="mines-bet-value">50</span> coins</label>
                                <div class="gaming-slider-container">
                                    <span>10</span>
                                    <input type="range" id="mines-bet-slider" class="gaming-input-range" min="10" max="200" step="10" value="50">
                                    <span>200</span>
                                </div>
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Mines: <span id="mines-count">3</span></label>
                                <div class="gaming-slider-container">
                                    <span>1</span>
                                    <input type="range" id="mines-count-slider" class="gaming-input-range" min="1" max="5" step="1" value="3">
                                    <span>5</span>
                                </div>
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Game Status:</label>
                                <div class="gaming-slot-result" id="mines-status">
                                    Ready to play. Mines: 3, Gems: 12
                                </div>
                            </div>
                            
                            <button class="gaming-btn" id="start-mines-btn">
                                <i class="fas fa-play"></i> Start New Game (50 coins)
                            </button>
                            
                            <button class="gaming-btn" id="cashout-mines-btn" disabled>
                                <i class="fas fa-money-bill-wave"></i> Cash Out
                            </button>
                            
                            <div class="gaming-game-history">
                                <div class="gaming-history-title">Recent Games</div>
                                <div id="mines-history"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Prediction Game Panel -->
                <div class="game-panel-section" id="prediction-panel">
                    <div class="gaming-game-header">
                        <h2 class="gaming-game-title">Prediction Game</h2>
                        <div class="gaming-balance-panel">
                            <i class="fas fa-coins"></i>
                            Balance: <span class="gaming-balance-amount" id="prediction-balance">1000</span> coins
                        </div>
                    </div>
                    
                    <div class="gaming-game-content">
                        <div class="gaming-game-area">
                            <div class="prediction-container">
                                <div class="gaming-slot-result" id="prediction-instruction">
                                    Predict a number between 1 and 10
                                </div>
                                
                                <div class="prediction-display" id="prediction-number">
                                    ?
                                </div>
                                
                                <div class="gaming-slot-result" id="prediction-result">
                                    Enter your prediction and test your luck!
                                </div>
                            </div>
                        </div>
                        
                        <div class="gaming-controls">
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Bet Amount: <span id="prediction-bet-value">50</span> coins</label>
                                <div class="gaming-slider-container">
                                    <span>10</span>
                                    <input type="range" id="prediction-bet-slider" class="gaming-input-range" min="10" max="200" step="10" value="50">
                                    <span>200</span>
                                </div>
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Your Prediction (1-10):</label>
                                <input type="number" id="prediction-input" class="prediction-input" min="1" max="10" value="5">
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Multiplier: x<span id="prediction-multiplier">5</span></label>
                                <div class="gaming-slider-container">
                                    <span>Low Risk (x2)</span>
                                    <input type="range" id="prediction-multiplier-slider" class="gaming-input-range" min="2" max="10" step="1" value="5">
                                    <span>High Risk (x10)</span>
                                </div>
                                <p style="color: #aaa; font-size: 0.9rem; margin-top: 5px;">Higher multiplier = lower chance to win</p>
                            </div>
                            
                            <button class="gaming-btn" id="predict-btn">
                                <i class="fas fa-bolt"></i> Test Prediction (50 coins)
                            </button>
                            
                            <div class="gaming-game-history">
                                <div class="gaming-history-title">Prediction History</div>
                                <div id="prediction-history"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slot Machine Panel -->
                <div class="game-panel-section" id="slot-panel">
                    <div class="gaming-game-header">
                        <h2 class="gaming-game-title">Slot Machine</h2>
                        <div class="gaming-balance-panel">
                            <i class="fas fa-coins"></i>
                            Balance: <span class="gaming-balance-amount" id="slot-balance">1000</span> coins
                        </div>
                    </div>
                    
                    <div class="gaming-game-content">
                        <div class="gaming-game-area">
                            <div class="slot-machine">
                                <div class="slot-reels">
                                    <div class="slot-reel" id="reel1">7</div>
                                    <div class="slot-reel" id="reel2">7</div>
                                    <div class="slot-reel" id="reel3">7</div>
                                </div>
                                
                                <div class="gaming-slot-result" id="slot-result">
                                    Pull the lever to spin!
                                </div>
                            </div>
                            
                            <div class="gaming-game-history" style="margin-top: 20px;">
                                <div class="gaming-history-title">Winning Combinations</div>
                                <div class="gaming-history-item">
                                    <span></span>
                                    <span class="gaming-history-win">x5 Bet</span>
                                </div>
                                <div class="gaming-history-item">
                                    <span>7 7 7</span>
                                    <span class="gaming-history-win">x10 Bet</span>
                                </div>
                                <div class="gaming-history-item">
                                    <span></span>
                                    <span class="gaming-history-win">x20 Bet</span>
                                </div>
                                <div class="gaming-history-item">
                                    <span></span>
                                    <span class="gaming-history-win">x15 Bet</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="gaming-controls">
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Bet Amount: <span id="slot-bet-value">50</span> coins</label>
                                <div class="gaming-slider-container">
                                    <span>10</span>
                                    <input type="range" id="slot-bet-slider" class="gaming-input-range" min="10" max="200" step="10" value="50">
                                    <span>200</span>
                                </div>
                            </div>
                            
                            <div class="gaming-control-group">
                                <label class="gaming-control-label">Slot Symbols:</label>
                                <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                                    <span style="font-size: 2rem;"></span>
                                    <span style="font-size: 2rem;">7</span>
                                    <span style="font-size: 2rem;"></span>
                                    <span style="font-size: 2rem;"></span>
                                    <span style="font-size: 2rem;"></span>
                                    <span style="font-size: 2rem;"></span>
                                </div>
                            </div>
                            
                            <button class="gaming-btn" id="spin-slot-btn">
                                <i class="fas fa-lever"></i> Spin Slot (50 coins)
                            </button>
                            
                            <button class="gaming-btn" id="auto-spin-btn" style="margin-top: 15px; background: linear-gradient(45deg, #00cc66, #00994d);">
                                <i class="fas fa-robot"></i> Auto Spin (10 times)
                            </button>
                            
                            <div class="gaming-game-history">
                                <div class="gaming-history-title">Recent Spins</div>
                                <div id="slot-history"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game variables
        let currentGame = '';
        let adminPanelOpen = false;
        let lobbyOpen = false;
        let mainCoinBalance = 0; // Main coin balance (starts at 0, gets 10 coins signup bonus)
        
        // Payment system variables
        let paymentQRCode = ''; // Store QR code URL
        let paymentRequests = []; // Store payment requests
        let currentPaymentPackage = null; // Current selected package
        
        // Initialize sliders
        document.addEventListener('DOMContentLoaded', function() {
            // Setup slider value displays
            const sliders = document.querySelectorAll('input[type="range"]');
            sliders.forEach(slider => {
                const valueDisplay = slider.parentElement.querySelector('.slider-value');
                if (valueDisplay) {
                    valueDisplay.textContent = slider.value + (slider.classList.contains('win-control') ? '%' : '');
                    
                    slider.addEventListener('input', function() {
                        valueDisplay.textContent = this.value + (this.classList.contains('win-control') ? '%' : '');
                    });
                }
            });
            
            // Check for signup bonus
            checkSignupBonus();
            
            // Initialize main coin balance display
            updateMainCoinBalance();
            
            // Load QR code and payment requests
            loadQRCode();
            loadPaymentRequests();
        });

        // Signup Bonus Function
        function checkSignupBonus() {
            // Check if user has already received signup bonus
            const hasReceivedBonus = localStorage.getItem('signupBonusReceived');
            
            if (!hasReceivedBonus) {
                // Give signup bonus
                mainCoinBalance = 10;
                localStorage.setItem('signupBonusReceived', 'true');
                localStorage.setItem('mainCoinBalance', mainCoinBalance.toString());
                
                // Show welcome message
                setTimeout(() => {
                    alert(' Welcome to GameHub!\n\nYou received 10 coins as a signup bonus!\n\nStart playing and win more coins!');
                }, 500);
            } else {
                // Load saved balance if exists
                const savedBalance = localStorage.getItem('mainCoinBalance');
                if (savedBalance) {
                    mainCoinBalance = parseInt(savedBalance) || 0;
                }
            }
        }

        // Buy Coins Modal Functions
        function openBuyCoinsModal() {
            document.getElementById('buyCoinsModal').style.display = 'block';
        }

        function closeBuyCoinsModal() {
            document.getElementById('buyCoinsModal').style.display = 'none';
        }

        // Coin Guide Modal Functions
        function openCoinGuideModal() {
            document.getElementById('coinGuideModal').style.display = 'block';
        }

        function closeCoinGuideModal() {
            document.getElementById('coinGuideModal').style.display = 'none';
        }

        // Payment Modal Functions
        function openPaymentModal(coins, price, packageName) {
            currentPaymentPackage = { coins, price, packageName };
            document.getElementById('payment-package-name').textContent = packageName;
            document.getElementById('payment-coins').textContent = coins.toLocaleString();
            document.getElementById('payment-price').textContent = '' + price.toLocaleString();
            document.getElementById('payment-expected-amount').textContent = price.toLocaleString();
            document.getElementById('payment-amount').value = price;
            document.getElementById('payment-amount').min = 10; // Set minimum to 10 NPR
            
            // Show QR code if available
            if (paymentQRCode) {
                document.getElementById('qr-code-placeholder').style.display = 'none';
                document.getElementById('qr-code-image').src = paymentQRCode;
                document.getElementById('qr-code-image').style.display = 'block';
            } else {
                document.getElementById('qr-code-placeholder').style.display = 'flex';
                document.getElementById('qr-code-image').style.display = 'none';
            }
            
            // Reset form
            document.getElementById('payment-form').reset();
            document.getElementById('payment-amount').value = price.toFixed(2);
            
            closeBuyCoinsModal();
            document.getElementById('paymentModal').style.display = 'block';
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
            currentPaymentPackage = null;
        }

        function submitPaymentRequest(event) {
            event.preventDefault();
            
            if (!currentPaymentPackage) {
                alert('Error: No package selected');
                return;
            }
            
            const paymentData = {
                id: Date.now().toString(),
                packageName: currentPaymentPackage.packageName,
                coins: currentPaymentPackage.coins,
                expectedAmount: currentPaymentPackage.price,
                name: document.getElementById('payment-name').value,
                phone: document.getElementById('payment-phone').value,
                amountPaid: parseFloat(document.getElementById('payment-amount').value),
                paymentMethod: document.getElementById('payment-method').value,
                reference: document.getElementById('payment-reference').value || 'N/A',
                status: 'pending',
                timestamp: new Date().toISOString(),
                playerUsername: 'Player123' // In real app, get from session
            };
            
            // Add to payment requests
            paymentRequests.push(paymentData);
            
            // Save to localStorage (in real app, send to server)
            localStorage.setItem('paymentRequests', JSON.stringify(paymentRequests));
            
            // Update admin panel if open
            if (adminPanelOpen) {
                updatePaymentLists();
            }
            
            alert(' Payment request submitted!\n\nAdmin will review your payment and approve it. You will receive coins once approved.');
            closePaymentModal();
            
            console.log('Payment request submitted:', paymentData);
        }

        // QR Code Management
        function uploadQRCode() {
            const fileInput = document.getElementById('qr-code-upload');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select an image file');
                return;
            }
            
            // Create file reader
            const reader = new FileReader();
            reader.onload = function(e) {
                paymentQRCode = e.target.result;
                
                // Save to localStorage
                localStorage.setItem('paymentQRCode', paymentQRCode);
                
                // Update preview
                document.getElementById('qr-preview').src = paymentQRCode;
                document.getElementById('qr-preview-container').style.display = 'block';
                
                alert(' QR Code uploaded successfully!');
                
                // Update payment modal if open
                if (document.getElementById('paymentModal').style.display === 'block') {
                    document.getElementById('qr-code-placeholder').style.display = 'none';
                    document.getElementById('qr-code-image').src = paymentQRCode;
                    document.getElementById('qr-code-image').style.display = 'block';
                }
            };
            reader.readAsDataURL(file);
        }

        // Load QR code on page load
        function loadQRCode() {
            const savedQR = localStorage.getItem('paymentQRCode');
            if (savedQR) {
                paymentQRCode = savedQR;
                document.getElementById('qr-preview').src = paymentQRCode;
                document.getElementById('qr-preview-container').style.display = 'block';
            }
        }

        // Load payment requests on page load
        function loadPaymentRequests() {
            const saved = localStorage.getItem('paymentRequests');
            if (saved) {
                paymentRequests = JSON.parse(saved);
            }
        }

        // Update payment lists in admin panel
        function updatePaymentLists() {
            const pendingList = document.getElementById('pending-payments-list');
            const approvedList = document.getElementById('approved-payments-list');
            
            const pending = paymentRequests.filter(p => p.status === 'pending');
            const approved = paymentRequests.filter(p => p.status === 'approved');
            
            // Update pending list
            if (pending.length === 0) {
                pendingList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>No pending payment requests</p>
                    </div>
                `;
            } else {
                pendingList.innerHTML = pending.map(payment => `
                    <div class="player-item" style="border-left: 4px solid var(--warning);">
                        <div class="player-info">
                            <div>
                                <div style="font-weight: bold; color: var(--light);">${payment.packageName}</div>
                                <div style="font-size: 0.85rem; color: var(--gray); margin-top: 5px;">
                                    <div>Player: ${payment.name} (${payment.phone})</div>
                                    <div>Amount: ${payment.amountPaid.toLocaleString()} / Expected: ${payment.expectedAmount.toLocaleString()}</div>
                                    <div>Method: ${payment.paymentMethod.toUpperCase()} | Ref: ${payment.reference}</div>
                                    <div>Coins: ${payment.coins.toLocaleString()} | Date: ${new Date(payment.timestamp).toLocaleString()}</div>
                                </div>
                            </div>
                        </div>
                        <div class="player-actions">
                            <button class="action-btn control" onclick="approvePayment('${payment.id}')">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="action-btn ban" onclick="rejectPayment('${payment.id}')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                        </div>
                    </div>
                `).join('');
            }
            
            // Update approved list
            if (approved.length === 0) {
                approvedList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-history" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>No approved payments yet</p>
                    </div>
                `;
            } else {
                approvedList.innerHTML = approved.map(payment => `
                    <div class="player-item" style="border-left: 4px solid var(--success);">
                        <div class="player-info">
                            <div>
                                <div style="font-weight: bold; color: var(--light);">${payment.packageName} <span style="color: var(--success);"> Approved</span></div>
                                <div style="font-size: 0.85rem; color: var(--gray); margin-top: 5px;">
                                    <div>Player: ${payment.name} (${payment.phone})</div>
                                    <div>Amount: ${payment.amountPaid.toLocaleString()} | Coins: ${payment.coins.toLocaleString()}</div>
                                    <div>Method: ${payment.paymentMethod.toUpperCase()} | Date: ${new Date(payment.timestamp).toLocaleString()}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function approvePayment(paymentId) {
            const payment = paymentRequests.find(p => p.id === paymentId);
            if (!payment) return;
            
            if (confirm(`Approve payment of ${payment.amountPaid.toLocaleString()} and give ${payment.coins.toLocaleString()} coins to ${payment.name}?`)) {
                payment.status = 'approved';
                payment.approvedAt = new Date().toISOString();
                
                // Give coins to player (in real app, this would be done server-side)
                mainCoinBalance += payment.coins;
                updateMainCoinBalance();
                updateGamingAllBalances();
                
                // Save to localStorage
                localStorage.setItem('paymentRequests', JSON.stringify(paymentRequests));
                
                // Update lists
                updatePaymentLists();
                
                alert(` Payment approved! ${payment.coins.toLocaleString()} coins have been added to ${payment.name}'s account.`);
            }
        }

        function rejectPayment(paymentId) {
            const payment = paymentRequests.find(p => p.id === paymentId);
            if (!payment) return;
            
            const reason = prompt(`Reject payment from ${payment.name}?\n\nEnter rejection reason (optional):`);
            
            payment.status = 'rejected';
            payment.rejectedAt = new Date().toISOString();
            payment.rejectionReason = reason || 'No reason provided';
            
            // Save to localStorage
            localStorage.setItem('paymentRequests', JSON.stringify(paymentRequests));
            
            // Update lists
            updatePaymentLists();
            
            alert(` Payment rejected.`);
        }

        function updateMainCoinBalance() {
            const balanceElement = document.getElementById('main-coin-balance');
            if (balanceElement) {
                balanceElement.textContent = mainCoinBalance.toLocaleString();
            }
        }
        
        // Open game lobby
        function openLobby(game) {
            currentGame = game;
            const gameNames = {
                'ludo': 'Ludo',
                'uno': 'UNO',
                'chess': 'Chess',
                'checkers': 'Checkers',
                'solitaire': 'Solitaire'
            };
            
            document.getElementById('lobbyTitle').textContent = `${gameNames[game]} Game Lobby`;
            document.getElementById('gameLobby').style.display = 'block';
            lobbyOpen = true;
            
            // Update game board display
            const board = document.getElementById('gameBoard');
            if (game === 'ludo') {
                board.innerHTML = `
                    <div style="text-align: center; width: 100%;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">
                            <i class="fas fa-dice"></i>
                        </div>
                        <h3>Ludo Game Board</h3>
                        <p style="margin-top: 10px;">Waiting for players to join...</p>
                        <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
                            <button class="btn btn-primary" onclick="startGame()">
                                <i class="fas fa-play"></i> Start Game
                            </button>
                            <button class="btn btn-secondary" onclick="inviteFriends()">
                                <i class="fas fa-user-plus"></i> Invite Friends
                            </button>
                        </div>
                    </div>
                `;
            } else if (game === 'chess') {
                board.innerHTML = `
                    <div style="text-align: center; width: 100%;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">
                            <i class="fas fa-chess-board"></i>
                        </div>
                        <h3>Chess Board</h3>
                        <p style="margin-top: 10px;">Setting up chess game...</p>
                    </div>
                `;
            }
        }
        
        // Close game lobby
        function closeLobby() {
            document.getElementById('gameLobby').style.display = 'none';
            lobbyOpen = false;
        }
        
        // Start game
        function startGame() {
            alert(`Starting ${currentGame} game! In a real implementation, this would connect you with other players.`);
            // In a real app, this would initialize the game and connect players
        }
        
        // Invite friends
        function inviteFriends() {
            const inviteLink = `https://gamehub.com/play/${currentGame}/invite/${Math.random().toString(36).substr(2, 9)}`;
            alert(`Share this link with friends: ${inviteLink}`);
        }
        
        // Send chat message
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (message) {
                const chatMessages = document.getElementById('chatMessages');
                const newMessage = document.createElement('div');
                newMessage.style.padding = '5px 0';
                newMessage.textContent = `Player123: ${message}`;
                chatMessages.appendChild(newMessage);
                input.value = '';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        // Admin Panel Functions
        function openAdminPanel() {
            document.getElementById('adminModal').style.display = 'block';
            adminPanelOpen = true;
            // Log admin access (hidden from players)
            console.log('Admin panel opened - Full control enabled');
            addAdminLog('Admin panel accessed');
        }
        
        function closeAdminPanel() {
            document.getElementById('adminModal').style.display = 'none';
            adminPanelOpen = false;
        }
        
        function openAdminTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.admin-tab').forEach(tabBtn => {
                tabBtn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Activate selected tab button
            event.target.classList.add('active');
            
            // Log tab switch
            addAdminLog(`Switched to ${tabName} tab`);
            
            // Update payment lists if payment tab is opened
            if (tabName === 'payments') {
                updatePaymentLists();
            }
        }
        
        // Admin control functions
        function forceDiceValue() {
            const diceValue = document.querySelector('.dice-control').value;
            alert(`Admin: Dice value forced to ${diceValue} for selected player.`);
            addAdminLog(`Forced dice value to ${diceValue}`);
        }
        
        function adjustGameSpeed() {
            const speed = document.querySelector('.speed-control').value;
            alert(`Admin: Game speed adjusted to ${speed}/10 for all games.`);
            addAdminLog(`Adjusted game speed to ${speed}`);
        }
        
        function setWinProbability() {
            const probability = document.querySelector('.win-control').value;
            alert(`Admin: Win probability set to ${probability}% for selected player.`);
            addAdminLog(`Set win probability to ${probability}%`);
        }
        
        function addBotToGame() {
            alert('Admin: Bot added to random game to fill empty slot.');
            addAdminLog('Added bot to game');
        }
        
        function forceGameEnd() {
            alert('Admin: Current game forced to end. Winner declared randomly.');
            addAdminLog('Forced game end');
        }
        
        function giveFreeRewards() {
            alert('Admin: Free rewards distributed to all online players.');
            addAdminLog('Distributed free rewards');
        }
        
        function sendGlobalMessage() {
            const message = prompt('Enter global message to send to all players:');
            if (message) {
                alert(`Admin: Global message sent: "${message}"`);
                addAdminLog(`Sent global message: ${message}`);
            }
        }
        
        function simulateHighTraffic() {
            alert('Admin: Simulating high traffic - player counts inflated for testing.');
            addAdminLog('Simulated high traffic');
        }
        
        function editPlayer(username) {
            alert(`Admin: Editing player: ${username}`);
            addAdminLog(`Editing player: ${username}`);
        }
        
        function controlPlayerGame(username) {
            alert(`Admin: Taking control of ${username}'s game. You can now manipulate their game.`);
            addAdminLog(`Controlling game of: ${username}`);
        }
        
        function banPlayer(username) {
            if (confirm(`Are you sure you want to ban ${username}?`)) {
                alert(`Admin: Player ${username} banned.`);
                addAdminLog(`Banned player: ${username}`);
            }
        }
        
        function viewGame(gameId) {
            alert(`Admin: Viewing game ${gameId} in real-time.`);
            addAdminLog(`Viewing game: ${gameId}`);
        }
        
        function controlGame(gameId) {
            alert(`Admin: Taking control of game ${gameId}. You can now modify game state.`);
            addAdminLog(`Controlling game: ${gameId}`);
        }
        
        function modifyGame(gameId) {
            alert(`Admin: Modifying game ${gameId} parameters.`);
            addAdminLog(`Modifying game: ${gameId}`);
        }
        
        function forceGameWinner() {
            const gameId = document.getElementById('gameSelect').value;
            const winner = document.getElementById('winnerName').value;
            if (winner) {
                alert(`Admin: Game ${gameId} winner forced to: ${winner}`);
                addAdminLog(`Forced winner for ${gameId}: ${winner}`);
            } else {
                alert('Please enter a winner name.');
            }
        }
        
        function addGameEffect() {
            const effect = document.getElementById('effectSelect').value;
            alert(`Admin: Game effect "${effect}" applied to selected game.`);
            addAdminLog(`Added game effect: ${effect}`);
        }
        
        function giveCoins() {
            const player = document.getElementById('playerForCoins').value;
            const amount = document.getElementById('coinAmount').value;
            if (player && amount) {
                alert(`Admin: Gave ${amount} coins to player ${player}.`);
                addAdminLog(`Gave ${amount} coins to ${player}`);
            } else {
                alert('Please fill in both fields.');
            }
        }
        
        function givePowerup() {
            const player = document.getElementById('playerForPowerup').value;
            const powerup = document.getElementById('powerupSelect').value;
            if (player) {
                alert(`Admin: Gave powerup "${powerup}" to player ${player}.`);
                addAdminLog(`Gave powerup ${powerup} to ${player}`);
            } else {
                alert('Please enter a player name.');
            }
        }
        
        function startDoubleCoinsEvent() {
            alert('Admin: Double coins event started for all players for 24 hours.');
            addAdminLog('Started double coins event');
        }
        
        function startFreeRollsEvent() {
            alert('Admin: Free rolls event started for Ludo players.');
            addAdminLog('Started free rolls event');
        }
        
        function startWeekendBonus() {
            alert('Admin: Weekend bonus activated (50% more coins).');
            addAdminLog('Activated weekend bonus');
        }
        
        function giveAllRewards() {
            alert('Admin: 500 coins given to all players.');
            addAdminLog('Gave 500 coins to all players');
        }
        
        function adjustGameDifficulty() {
            const difficulty = document.querySelector('.difficulty-control').value;
            alert(`Admin: Game difficulty adjusted to ${difficulty}/10.`);
            addAdminLog(`Adjusted game difficulty to ${difficulty}`);
        }
        
        function setMatchmakingBias() {
            const bias = document.getElementById('matchmakingBias').value;
            alert(`Admin: Matchmaking bias set to: ${bias}`);
            addAdminLog(`Set matchmaking bias to: ${bias}`);
        }
        
        // Admin logging function (hidden from players)
        function addAdminLog(action) {
            const logEntry = `[${new Date().toLocaleTimeString()}] ${action}`;
            console.log(`ADMIN LOG: ${logEntry}`);
            
            // In a real app, this would be sent to a secure admin logging system
            // that players cannot access
        }
        
        // Simulate receiving a hidden admin message in chat
        setInterval(() => {
            if (lobbyOpen && Math.random() > 0.7) {
                // This simulates receiving hidden admin messages that players can't see
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages) {
                    const hiddenMsg = document.createElement('div');
                    hiddenMsg.style.padding = '5px 0';
                    hiddenMsg.style.color = '#4cc9f0';
                    hiddenMsg.style.fontSize = '0.85rem';
                    hiddenMsg.innerHTML = `<i class="fas fa-user-shield"></i> Admin: Player dice manipulation active`;
                    chatMessages.appendChild(hiddenMsg);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }
            }
        }, 30000);
        
        // Mobile Menu Functions
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('active');
            document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : '';
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Update mobile coin balance when main balance changes
        function updateMainCoinBalance() {
            const balanceElement = document.getElementById('main-coin-balance');
            const mobileBalanceElement = document.getElementById('mobile-coin-balance');
            if (balanceElement) {
                balanceElement.textContent = mainCoinBalance.toLocaleString();
            }
            if (mobileBalanceElement) {
                mobileBalanceElement.textContent = mainCoinBalance.toLocaleString();
            }
            
            // Save balance to localStorage
            localStorage.setItem('mainCoinBalance', mainCoinBalance.toString());
        }

        // Simulate updating online player counts
        setInterval(() => {
            const counts = document.querySelectorAll('.online-count span');
            counts.forEach(count => {
                const current = parseInt(count.textContent.replace(',', ''));
                const change = Math.floor(Math.random() * 21) - 10; // -10 to +10
                const newCount = Math.max(100, current + change);
                count.textContent = newCount.toLocaleString();
            });
            
            // Update admin stats if panel is open
            if (adminPanelOpen) {
                const stats = document.querySelectorAll('.stat-value');
                if (stats.length > 0) {
                    // Update total players online
                    const currentPlayers = parseInt(stats[0].textContent.replace(',', ''));
                    const playerChange = Math.floor(Math.random() * 101) - 30;
                    stats[0].textContent = Math.max(8000, currentPlayers + playerChange).toLocaleString();
                    
                    // Update active games
                    const currentGames = parseInt(stats[1].textContent.replace(',', ''));
                    const gameChange = Math.floor(Math.random() * 31) - 10;
                    stats[1].textContent = Math.max(2000, currentGames + gameChange).toLocaleString();
                }
            }
        }, 5000);

        // Gaming Panel Variables
        let gamingPanelOpen = false;
        let gamingCurrentGame = 'lucky-draw';
        let gamingIsSpinning = false;
        let gamingMinesGameActive = false;
        let gamingMinesGameData = { mines: [], gems: [], revealed: [] };
        let gamingAutoSpinCount = 0;
        let gamingAutoSpinInterval = null;
        const gamingSlotSymbols = ['', '7', '', '', '', ''];

        // Open Gaming Panel
        function openGamingPanel() {
            document.getElementById('gamingPanelModal').style.display = 'block';
            gamingPanelOpen = true;
            initGamingPanel();
        }

        // Close Gaming Panel
        function closeGamingPanel() {
            document.getElementById('gamingPanelModal').style.display = 'none';
            gamingPanelOpen = false;
        }

        // Initialize Gaming Panel
        function initGamingPanel() {
            if (document.getElementById('gamingPanelModal').style.display === 'none') return;

            // Initialize tab switching
            const tabBtns = document.querySelectorAll('.game-tab-btn');
            const gamePanels = document.querySelectorAll('.game-panel-section');

            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const gameId = this.getAttribute('data-game');

                    // Update active tab
                    tabBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Show corresponding panel
                    gamePanels.forEach(panel => {
                        panel.classList.remove('active');
                        if (panel.id === `${gameId}-panel`) {
                            panel.classList.add('active');
                        }
                    });

                    gamingCurrentGame = gameId;
                });
            });

            // Initialize all games
            initGamingLuckyDraw();
            initGamingMinesGame();
            initGamingPredictionGame();
            initGamingSlotMachine();
            updateGamingAllBalances();
        }

        // Update all balance displays (uses mainCoinBalance)
        function updateGamingAllBalances() {
            document.getElementById('lucky-balance').textContent = mainCoinBalance.toLocaleString();
            document.getElementById('mines-balance').textContent = mainCoinBalance.toLocaleString();
            document.getElementById('prediction-balance').textContent = mainCoinBalance.toLocaleString();
            document.getElementById('slot-balance').textContent = mainCoinBalance.toLocaleString();
            
            // Update main balance display
            updateMainCoinBalance();
        }

        // Lucky Draw Game
        function initGamingLuckyDraw() {
            const wheel = document.getElementById('wheel');
            const spinBtn = document.getElementById('spin-btn');
            const betSlider = document.getElementById('lucky-bet-slider');
            const betValue = document.getElementById('lucky-bet-value');

            // Function to update potential prizes display (fixed amounts)
            function updatePotentialPrizes(bet) {
                const greenPrize = document.getElementById('prize-green');
                const pinkPrize = document.getElementById('prize-pink');
                const orangePrize = document.getElementById('prize-orange');
                if (greenPrize) greenPrize.textContent = `Win 10 coins`;
                if (pinkPrize) pinkPrize.textContent = `Win 20 coins`;
                if (orangePrize) orangePrize.textContent = `Win 30 coins`;
            }

            // Update bet display when slider changes
            if (betSlider) {
                betSlider.addEventListener('input', function() {
                    const bet = parseInt(this.value);
                    betValue.textContent = bet;
                    spinBtn.innerHTML = `<i class="fas fa-redo-alt"></i> Spin the Wheel (${bet} coins)`;
                    updatePotentialPrizes(bet);
                });
                
                // Initialize prizes display
                updatePotentialPrizes(parseInt(betSlider.value));

                // Spin button click handler
                spinBtn.addEventListener('click', function() {
                    if (gamingIsSpinning) return;

                    const bet = parseInt(betSlider.value);

                    if (mainCoinBalance < bet) {
                        document.getElementById('lucky-result').textContent = "Not enough coins to spin!";
                        document.getElementById('lucky-result').className = "gaming-slot-result gaming-result-lose";
                        return;
                    }

                    // Deduct bet from main balance
                    mainCoinBalance -= bet;
                    updateGamingAllBalances();

                    // Start spinning
                    gamingIsSpinning = true;
                    spinBtn.disabled = true;

                    // Random rotation
                    // Colors order matches CSS: red, orange, yellow, green, blue, indigo, violet, pink
                    const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet', 'pink'];
                    // Segment types: 0 = Try Again, 30 = Orange (30 coins), 10 = Green (10 coins), 20 = Pink (20 coins), -1 = Mystery Box
                    const segmentTypes = [0, 30, 0, 10, -1, 0, -1, 20];
                    const rotations = 5 + Math.floor(Math.random() * 5);
                    const segmentAngle = 360 / colors.length;
                    const winningSegment = Math.floor(Math.random() * colors.length);
                    const finalRotation = rotations * 360 + (winningSegment * segmentAngle) + Math.random() * segmentAngle;

                    wheel.style.transform = `rotate(${finalRotation}deg)`;

                    // Determine result after spinning
                    setTimeout(() => {
                        const color = colors[winningSegment];
                        const segmentType = segmentTypes[winningSegment];
                        const resultElement = document.getElementById('lucky-result');
                        
                        let winAmount = 0;
                        let message = '';
                        let isWin = false;

                        if (segmentType === 0) {
                            // Try Again
                            message = `Landed on ${color.toUpperCase()}! Try Again - No win this time.`;
                            resultElement.className = "gaming-slot-result gaming-result-lose";
                            addToGamingHistory('lucky-history', `Landed on ${color} - Try Again`, false);
                        } else if (segmentType === -1) {
                            // Mystery Box - random prize between 0 and bet * 5
                            const mysteryPrizes = [0, bet, bet * 2, bet * 3, bet * 5];
                            winAmount = mysteryPrizes[Math.floor(Math.random() * mysteryPrizes.length)];
                            
                            if (winAmount > 0) {
                                mainCoinBalance += winAmount;
                                updateGamingAllBalances();
                                message = `Landed on MYSTERY BOX! You won ${winAmount} coins!`;
                                resultElement.className = "gaming-slot-result gaming-result-win";
                                isWin = true;
                                addToGamingHistory('lucky-history', `Mystery Box: Won ${winAmount} coins`, true);
                            } else {
                                message = `Landed on MYSTERY BOX! Unfortunately, it was empty. Try Again!`;
                                resultElement.className = "gaming-slot-result gaming-result-lose";
                                addToGamingHistory('lucky-history', `Mystery Box: Empty`, false);
                            }
                        } else {
                            // Fixed amount win (10, 20, or 30 coins)
                            winAmount = segmentType; // segmentType is already the coin amount
                            mainCoinBalance += winAmount;
                            updateGamingAllBalances();
                            message = `Landed on ${color.toUpperCase()}! You won ${winAmount} coins!`;
                            resultElement.className = "gaming-slot-result gaming-result-win";
                            isWin = true;
                            addToGamingHistory('lucky-history', `Won ${winAmount} coins on ${color}`, true);
                        }

                        resultElement.textContent = message;

                        setTimeout(() => {
                            gamingIsSpinning = false;
                            spinBtn.disabled = false;
                        }, 1000);
                    }, 3000);
                });
            }
        }

        // Mines Game
        function initGamingMinesGame() {
            const minesGrid = document.getElementById('mines-grid');
            const startBtn = document.getElementById('start-mines-btn');
            const cashoutBtn = document.getElementById('cashout-mines-btn');
            const betSlider = document.getElementById('mines-bet-slider');
            const betValue = document.getElementById('mines-bet-value');
            const minesCountSlider = document.getElementById('mines-count-slider');
            const minesCount = document.getElementById('mines-count');

            if (!minesGrid) return;

            function createGrid() {
                minesGrid.innerHTML = '';
                for (let i = 0; i < 25; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'mine-cell';
                    cell.dataset.index = i;
                    cell.innerHTML = '<i class="fas fa-question"></i>';

                    cell.addEventListener('click', function() {
                        if (!gamingMinesGameActive || gamingMinesGameData.revealed.includes(i)) return;
                        revealMineCell(i);
                    });

                    minesGrid.appendChild(cell);
                }
            }

            if (betSlider) {
                betSlider.addEventListener('input', function() {
                    const bet = parseInt(this.value);
                    betValue.textContent = bet;
                    startBtn.innerHTML = `<i class="fas fa-play"></i> Start New Game (${bet} coins)`;
                });
            }

            if (minesCountSlider) {
                minesCountSlider.addEventListener('input', function() {
                    minesCount.textContent = this.value;
                    updateGamingMinesStatus();
                });
            }

            if (startBtn) {
                startBtn.addEventListener('click', function() {
                    const bet = parseInt(betSlider.value);
                    const mines = parseInt(minesCountSlider.value);

                    if (mainCoinBalance < bet) {
                        document.getElementById('mines-result').textContent = "Not enough coins to start!";
                        document.getElementById('mines-result').className = "gaming-slot-result gaming-result-lose";
                        return;
                    }

                    // Deduct bet from main balance
                    mainCoinBalance -= bet;
                    updateGamingAllBalances();

                    gamingMinesGameActive = true;
                    // Calculate coins per gem based on bet and mines: coins per gem = bet * 0.05 * (mines + 1)
                    // Example: 1 mine, 10 bet = 10 * 0.05 * 2 = 1 coin per gem
                    //          2 mines, 10 bet = 10 * 0.05 * 3 = 1.5 coins per gem
                    //          3 mines, 10 bet = 10 * 0.05 * 4 = 2 coins per gem
                    const coinsPerGem = bet * 0.05 * (mines + 1);
                    const multiplierIncrement = coinsPerGem / bet; // Increment per gem as multiplier
                    
                    gamingMinesGameData = {
                        mines: [],
                        gems: [],
                        revealed: [],
                        bet: bet,
                        minesCount: mines,
                        coinsPerGem: coinsPerGem,
                        multiplierIncrement: multiplierIncrement,
                        multiplier: 1.0,
                        cashoutValue: bet
                    };

                    while (gamingMinesGameData.mines.length < mines) {
                        const randomIndex = Math.floor(Math.random() * 25);
                        if (!gamingMinesGameData.mines.includes(randomIndex)) {
                            gamingMinesGameData.mines.push(randomIndex);
                        }
                    }

                    for (let i = 0; i < 25; i++) {
                        if (!gamingMinesGameData.mines.includes(i)) {
                            gamingMinesGameData.gems.push(i);
                        }
                    }

                    createGrid();

                    document.getElementById('mines-result').textContent = `Game started! Find ${gamingMinesGameData.gems.length} gems without hitting ${mines} mines.`;
                    document.getElementById('mines-result').className = "gaming-slot-result";

                    cashoutBtn.disabled = false;
                    cashoutBtn.innerHTML = `<i class="fas fa-money-bill-wave"></i> Cash Out (${gamingMinesGameData.cashoutValue} coins)`;
                    startBtn.disabled = true;

                    updateGamingMinesStatus();
                });
            }

            if (cashoutBtn) {
                cashoutBtn.addEventListener('click', function() {
                    if (!gamingMinesGameActive) return;

                    // Add winnings to main balance
                    mainCoinBalance += gamingMinesGameData.cashoutValue;
                    updateGamingAllBalances();

                    revealAllMineCells();

                    addToGamingHistory('mines-history', `Cashed out ${gamingMinesGameData.cashoutValue} coins (x${gamingMinesGameData.multiplier.toFixed(2)})`, true);

                    document.getElementById('mines-result').textContent = `You cashed out ${gamingMinesGameData.cashoutValue} coins!`;
                    document.getElementById('mines-result').className = "gaming-slot-result gaming-result-win";

                    gamingMinesGameActive = false;
                    cashoutBtn.disabled = true;
                    startBtn.disabled = false;
                });
            }

            function revealMineCell(index) {
                if (gamingMinesGameData.revealed.includes(index)) return;

                gamingMinesGameData.revealed.push(index);
                const cell = document.querySelector(`.mine-cell[data-index="${index}"]`);

                if (gamingMinesGameData.mines.includes(index)) {
                    cell.className = 'mine-cell mine';
                    cell.innerHTML = '<i class="fas fa-bomb"></i>';

                    revealAllMineCells();

                    document.getElementById('mines-result').textContent = `Game Over! You hit a mine and lost ${gamingMinesGameData.bet} coins.`;
                    document.getElementById('mines-result').className = "gaming-slot-result gaming-result-lose";

                    addToGamingHistory('mines-history', `Hit a mine and lost ${gamingMinesGameData.bet} coins`, false);

                    gamingMinesGameActive = false;
                    cashoutBtn.disabled = true;
                    startBtn.disabled = false;
                } else {
                    cell.className = 'mine-cell gem';
                    cell.innerHTML = '<i class="fas fa-gem"></i>';

                    // Increment multiplier based on bet and mines count
                    gamingMinesGameData.multiplier += gamingMinesGameData.multiplierIncrement;
                    // Calculate cashout value: bet + (gems found * coins per gem)
                    const gemsFound = gamingMinesGameData.revealed.filter(i => gamingMinesGameData.gems.includes(i)).length;
                    gamingMinesGameData.cashoutValue = Math.floor(gamingMinesGameData.bet + (gemsFound * gamingMinesGameData.coinsPerGem));
                    cashoutBtn.innerHTML = `<i class="fas fa-money-bill-wave"></i> Cash Out (${gamingMinesGameData.cashoutValue} coins)`;
                    if (gemsFound === gamingMinesGameData.gems.length) {
                        // Add winnings to main balance
                        mainCoinBalance += gamingMinesGameData.cashoutValue;
                        updateGamingAllBalances();

                        addToGamingHistory('mines-history', `Found all gems! Won ${gamingMinesGameData.cashoutValue} coins`, true);

                        document.getElementById('mines-result').textContent = `Amazing! You found all gems and won ${gamingMinesGameData.cashoutValue} coins!`;
                        document.getElementById('mines-result').className = "gaming-slot-result gaming-result-win";

                        gamingMinesGameActive = false;
                        cashoutBtn.disabled = true;
                        startBtn.disabled = false;
                    } else {
                        updateGamingMinesStatus();
                    }
                }
            }

            function revealAllMineCells() {
                for (let i = 0; i < 25; i++) {
                    const cell = document.querySelector(`.mine-cell[data-index="${i}"]`);
                    if (gamingMinesGameData.mines.includes(i)) {
                        cell.className = 'mine-cell mine';
                        cell.innerHTML = '<i class="fas fa-bomb"></i>';
                    } else {
                        cell.className = 'mine-cell gem';
                        cell.innerHTML = '<i class="fas fa-gem"></i>';
                    }
                }
            }

            function updateGamingMinesStatus() {
                if (!gamingMinesGameActive) {
                    const mines = parseInt(minesCountSlider.value);
                    const gems = 25 - mines;
                    document.getElementById('mines-status').textContent = `Ready to play. Mines: ${mines}, Gems: ${gems}`;
                    return;
                }

                const mines = gamingMinesGameData.mines.length;
                const gems = gamingMinesGameData.gems.length;
                const gemsFound = gamingMinesGameData.revealed.filter(i => gamingMinesGameData.gems.includes(i)).length;
                const minesLeft = mines - gamingMinesGameData.revealed.filter(i => gamingMinesGameData.mines.includes(i)).length;

                document.getElementById('mines-status').textContent = `Gems found: ${gemsFound}/${gems} | Mines left: ${minesLeft} | Multiplier: x${gamingMinesGameData.multiplier.toFixed(2)}`;
            }

            createGrid();
            updateGamingMinesStatus();
        }

        // Prediction Game
        function initGamingPredictionGame() {
            const predictBtn = document.getElementById('predict-btn');
            const betSlider = document.getElementById('prediction-bet-slider');
            const betValue = document.getElementById('prediction-bet-value');
            const multiplierSlider = document.getElementById('prediction-multiplier-slider');
            const multiplierValue = document.getElementById('prediction-multiplier');
            const predictionInput = document.getElementById('prediction-input');
            const predictionNumber = document.getElementById('prediction-number');

            if (!predictBtn) return;

            if (betSlider) {
                betSlider.addEventListener('input', function() {
                    const bet = parseInt(this.value);
                    betValue.textContent = bet;
                    predictBtn.innerHTML = `<i class="fas fa-bolt"></i> Test Prediction (${bet} coins)`;
                });
            }

            if (multiplierSlider) {
                multiplierSlider.addEventListener('input', function() {
                    const multiplier = parseInt(this.value);
                    multiplierValue.textContent = multiplier;
                });
            }

            predictBtn.addEventListener('click', function() {
                const bet = parseInt(betSlider.value);
                const multiplier = parseInt(multiplierSlider.value);
                const userPrediction = parseInt(predictionInput.value);

                if (userPrediction < 1 || userPrediction > 10) {
                    document.getElementById('prediction-result').textContent = "Please enter a number between 1 and 10";
                    document.getElementById('prediction-result').className = "gaming-slot-result gaming-result-lose";
                    return;
                }

                if (mainCoinBalance < bet) {
                    document.getElementById('prediction-result').textContent = "Not enough coins to play!";
                    document.getElementById('prediction-result').className = "gaming-slot-result gaming-result-lose";
                    return;
                }

                // Deduct bet from main balance
                mainCoinBalance -= bet;
                updateGamingAllBalances();

                const randomNumber = Math.floor(Math.random() * 10) + 1;

                animateGamingNumber(predictionNumber, randomNumber);

                const isWin = userPrediction === randomNumber;

                let resultText = '';
                if (isWin) {
                    const winAmount = bet * multiplier;
                    // Add winnings to main balance
                    mainCoinBalance += winAmount;
                    updateGamingAllBalances();

                    resultText = `Correct! You predicted ${userPrediction} and the number was ${randomNumber}. You won ${winAmount} coins (x${multiplier})!`;
                    document.getElementById('prediction-result').className = "gaming-slot-result gaming-result-win";

                    addToGamingHistory('prediction-history', `Won ${winAmount} coins (Predicted ${userPrediction}, got ${randomNumber})`, true);
                } else {
                    resultText = `Wrong! You predicted ${userPrediction} but the number was ${randomNumber}. You lost ${bet} coins.`;
                    document.getElementById('prediction-result').className = "gaming-slot-result gaming-result-lose";

                    addToGamingHistory('prediction-history', `Lost ${bet} coins (Predicted ${userPrediction}, got ${randomNumber})`, false);
                }

                setTimeout(() => {
                    document.getElementById('prediction-result').textContent = resultText;
                }, 1000);
            });

            function animateGamingNumber(element, finalNumber) {
                let current = 0;
                const increment = finalNumber > current ? 1 : -1;
                const speed = Math.floor(1000 / Math.abs(finalNumber - current));

                const timer = setInterval(() => {
                    current += increment;
                    element.textContent = current;

                    if (current === finalNumber) {
                        clearInterval(timer);
                    }
                }, speed);
            }
        }

        // Slot Machine Game
        function initGamingSlotMachine() {
            const spinBtn = document.getElementById('spin-slot-btn');
            const autoSpinBtn = document.getElementById('auto-spin-btn');
            const betSlider = document.getElementById('slot-bet-slider');
            const betValue = document.getElementById('slot-bet-value');
            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];

            if (!spinBtn) return;

            if (betSlider) {
                betSlider.addEventListener('input', function() {
                    const bet = parseInt(this.value);
                    betValue.textContent = bet;
                    spinBtn.innerHTML = `<i class="fas fa-lever"></i> Spin Slot (${bet} coins)`;
                });
            }

            spinBtn.addEventListener('click', function() {
                if (gamingIsSpinning) return;
                spinGamingSlot();
            });

            if (autoSpinBtn) {
                autoSpinBtn.addEventListener('click', function() {
                    if (gamingIsSpinning) return;

                    if (gamingAutoSpinInterval) {
                        clearInterval(gamingAutoSpinInterval);
                        gamingAutoSpinInterval = null;
                        autoSpinBtn.innerHTML = `<i class="fas fa-robot"></i> Auto Spin (10 times)`;
                        autoSpinBtn.style.background = 'linear-gradient(45deg, #00cc66, #00994d)';
                        gamingAutoSpinCount = 0;
                        return;
                    }

                    gamingAutoSpinCount = 0;
                    autoSpinBtn.innerHTML = `<i class="fas fa-stop"></i> Stop Auto Spin`;
                    autoSpinBtn.style.background = 'linear-gradient(45deg, #ff3333, #cc0000)';

                    gamingAutoSpinInterval = setInterval(() => {
                        if (gamingAutoSpinCount >= 10) {
                            clearInterval(gamingAutoSpinInterval);
                            gamingAutoSpinInterval = null;
                            autoSpinBtn.innerHTML = `<i class="fas fa-robot"></i> Auto Spin (10 times)`;
                            autoSpinBtn.style.background = 'linear-gradient(45deg, #00cc66, #00994d)';
                            gamingAutoSpinCount = 0;
                            return;
                        }

                        if (!gamingIsSpinning) {
                            spinGamingSlot();
                            gamingAutoSpinCount++;
                        }
                    }, 2000);
                });
            }

            function spinGamingSlot() {
                const bet = parseInt(betSlider.value);

                if (mainCoinBalance < bet) {
                    document.getElementById('slot-result').textContent = "Not enough coins to spin!";
                    document.getElementById('slot-result').className = "gaming-slot-result gaming-result-lose";
                    return;
                }

                // Deduct bet from main balance
                mainCoinBalance -= bet;
                updateGamingAllBalances();

                gamingIsSpinning = true;
                spinBtn.disabled = true;

                const results = [];
                for (let i = 0; i < 3; i++) {
                    results.push(Math.floor(Math.random() * gamingSlotSymbols.length));
                }

                animateGamingReels(results, reels);

                setTimeout(() => {
                    const winMultiplier = checkGamingWin(results);
                    const winAmount = winMultiplier > 0 ? bet * winMultiplier : 0;

                    if (winAmount > 0) {
                        // Add winnings to main balance
                        mainCoinBalance += winAmount;
                        updateGamingAllBalances();
                    }

                    const resultElement = document.getElementById('slot-result');
                    if (winMultiplier > 0) {
                        resultElement.textContent = `You won ${winAmount} coins! (x${winMultiplier})`;
                        resultElement.className = "gaming-slot-result gaming-result-win";
                        addToGamingHistory('slot-history', `Won ${winAmount} coins (x${winMultiplier})`, true);
                    } else {
                        resultElement.textContent = `No winning combination. You lost ${bet} coins.`;
                        resultElement.className = "gaming-slot-result gaming-result-lose";
                        addToGamingHistory('slot-history', `Lost ${bet} coins`, false);
                    }

                    gamingIsSpinning = false;
                    spinBtn.disabled = false;
                }, 2000);
            }

            function animateGamingReels(results, reels) {
                reels.forEach((reel, index) => {
                    reel.innerHTML = '';

                    for (let i = 0; i < 10; i++) {
                        const symbol = document.createElement('span');
                        symbol.textContent = gamingSlotSymbols[Math.floor(Math.random() * gamingSlotSymbols.length)];
                        symbol.style.display = 'block';
                        reel.appendChild(symbol);
                    }

                    const finalSymbol = document.createElement('span');
                    finalSymbol.textContent = gamingSlotSymbols[results[index]];
                    finalSymbol.style.display = 'block';
                    reel.appendChild(finalSymbol);

                    reel.style.animation = 'slotSpin 0.1s infinite';
                });

                setTimeout(() => {
                    reels.forEach(reel => {
                        reel.style.animation = 'none';
                        reel.innerHTML = gamingSlotSymbols[results[reels.indexOf(reel)]];
                    });
                }, 1500);
            }

            function checkGamingWin(results) {
                const symbols = results.map(i => gamingSlotSymbols[i]);

                if (symbols[0] === symbols[1] && symbols[1] === symbols[2]) {
                    switch(symbols[0]) {
                        case '': return 5;
                        case '7': return 10;
                        case '': return 20;
                        case '': return 15;
                        case '': return 8;
                        case '': return 12;
                    }
                }

                if (symbols[0] === symbols[1] || symbols[1] === symbols[2] || symbols[0] === symbols[2]) {
                    return 2;
                }

                return 0;
            }
        }

        // Add entry to game history
        function addToGamingHistory(historyId, text, isWin) {
            const historyElement = document.getElementById(historyId);
            if (!historyElement) return;

            const historyItem = document.createElement('div');
            historyItem.className = `gaming-history-item ${isWin ? 'gaming-history-win' : 'gaming-history-lose'}`;

            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

            historyItem.innerHTML = `
                <span>${text}</span>
                <span>${timeString}</span>
            `;

            historyElement.insertBefore(historyItem, historyElement.firstChild);

            if (historyElement.children.length > 10) {
                historyElement.removeChild(historyElement.lastChild);
            }
        }

        // Watch and Earn functionality
        let watchEarnData = {
            videosWatchedToday: 0,
            dailyLimit: 50,
            watchedVideos: [],
            currentVideo: null,
            videoProgress: 0,
            streakDays: 0,
            lastWatchDate: null,
            progressInterval: null
        };

        // Sample videos library
        const videoLibrary = [
            { id: 1, title: "Tech Review: Latest Smartphones", duration: 120, category: "Tech" },
            { id: 2, title: "DIY: Home Decoration Tips", duration: 90, category: "DIY" },
            { id: 3, title: "Fun Facts About Space", duration: 60, category: "Education" },
            { id: 4, title: "New Music Releases", duration: 180, category: "Music" },
            { id: 5, title: "Cooking Quick Recipes", duration: 150, category: "Food" },
            { id: 6, title: "Fitness Tips for Beginners", duration: 100, category: "Health" },
            { id: 7, title: "Travel Destinations 2024", duration: 140, category: "Travel" },
            { id: 8, title: "Gaming News Update", duration: 80, category: "Gaming" }
        ];

        function openWatchAndEarnModal() {
            try {
                const modal = document.getElementById('watchAndEarnModal');
                if (modal) {
                    modal.style.display = 'block';
                    document.body.style.overflow = 'hidden'; // Prevent background scrolling
                    updateWatchEarnStats();
                    loadVideoLibrary();
                    checkDailyStreak();
                } else {
                    console.error('Watch and Earn modal not found');
                    alert('Watch and Earn feature is not available. Please refresh the page.');
                }
            } catch (error) {
                console.error('Error opening Watch and Earn modal:', error);
                alert('An error occurred. Please refresh the page and try again.');
            }
        }

        function closeWatchAndEarnModal() {
            try {
                const modal = document.getElementById('watchAndEarnModal');
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto'; // Restore scrolling
                    stopCurrentVideo();
                }
            } catch (error) {
                console.error('Error closing Watch and Earn modal:', error);
            }
        }

        function updateWatchEarnStats() {
            try {
                const todayEarnings = watchEarnData.videosWatchedToday * 0.20;
                const totalEarnings = watchEarnData.watchedVideos.length * 0.20;
                
                const todayEarningsEl = document.getElementById('watch-today-earnings');
                const totalVideosEl = document.getElementById('watch-total-videos');
                const streakDaysEl = document.getElementById('watch-streak-days');
                const videosTodayEl = document.getElementById('watch-videos-today');
                
                if (todayEarningsEl) todayEarningsEl.textContent = todayEarnings.toFixed(2);
                if (totalVideosEl) totalVideosEl.textContent = watchEarnData.watchedVideos.length;
                if (streakDaysEl) streakDaysEl.textContent = watchEarnData.streakDays;
                if (videosTodayEl) videosTodayEl.textContent = watchEarnData.videosWatchedToday;
            } catch (error) {
                console.error('Error updating watch and earn stats:', error);
            }
        }

        function loadVideoLibrary() {
            const container = document.getElementById('video-library-container');
            if (!container) return;

            container.innerHTML = '';
            videoLibrary.forEach(video => {
                const isWatched = watchEarnData.watchedVideos.includes(video.id);
                const videoItem = document.createElement('div');
                videoItem.className = `video-item ${isWatched ? 'watched' : ''}`;
                videoItem.innerHTML = `
                    <div class="video-item-title">${video.title}</div>
                    <div class="video-item-duration">
                        <i class="fas fa-clock"></i> ${Math.floor(video.duration / 60)}:${(video.duration % 60).toString().padStart(2, '0')} | ${video.category}
                        ${isWatched ? '<span style="color: var(--accent); margin-left: 10px;"><i class="fas fa-check"></i> Watched</span>' : ''}
                    </div>
                `;
                if (!isWatched) {
                    videoItem.onclick = () => startWatchingVideo(video);
                }
                container.appendChild(videoItem);
            });
        }

        function startWatchingVideo(video) {
            try {
                // Clear any existing interval
                if (watchEarnData.progressInterval) {
                    clearInterval(watchEarnData.progressInterval);
                    watchEarnData.progressInterval = null;
                }

                if (watchEarnData.videosWatchedToday >= watchEarnData.dailyLimit) {
                    alert(`Daily limit reached! You can watch up to ${watchEarnData.dailyLimit} videos per day.`);
                    return;
                }

                if (watchEarnData.watchedVideos.includes(video.id)) {
                    alert('You have already watched this video!');
                    return;
                }

                watchEarnData.currentVideo = video;
                watchEarnData.videoProgress = 0;

                const videoContainer = document.getElementById('current-video-container');
                const videoElement = document.getElementById('current-video');
                const progressFill = document.getElementById('video-progress-fill');
                const playBtn = document.getElementById('play-video-btn');
                const skipBtn = document.getElementById('skip-video-btn');

                if (videoContainer) {
                    videoContainer.style.display = 'block';
                }

                if (videoElement) {
                    videoElement.innerHTML = `
                        <div style="text-align: center; padding: 50px;">
                            <i class="fas fa-play-circle" style="font-size: 4rem; margin-bottom: 20px;"></i>
                            <h3 style="color: white; margin-bottom: 10px;">${video.title}</h3>
                            <p style="color: rgba(255,255,255,0.7);">Duration: ${Math.floor(video.duration / 60)}:${(video.duration % 60).toString().padStart(2, '0')}</p>
                        </div>
                    `;
                }

                if (playBtn) {
                    playBtn.disabled = true;
                    playBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Watching...';
                }

                if (skipBtn) {
                    skipBtn.disabled = true;
                }

                // Simulate video watching
                watchEarnData.progressInterval = setInterval(() => {
                    watchEarnData.videoProgress += 1;
                    const progressPercent = (watchEarnData.videoProgress / video.duration) * 100;

                    if (progressFill) {
                        progressFill.style.width = progressPercent + '%';
                    }

                    if (watchEarnData.videoProgress >= video.duration) {
                        if (watchEarnData.progressInterval) {
                            clearInterval(watchEarnData.progressInterval);
                            watchEarnData.progressInterval = null;
                        }
                        completeVideo(video);
                    }
                }, 1000);
            } catch (error) {
                console.error('Error starting video:', error);
                alert('An error occurred while starting the video. Please try again.');
            }
        }

        function completeVideo(video) {
            watchEarnData.watchedVideos.push(video.id);
            watchEarnData.videosWatchedToday++;
            
            // Award coins
            const coinsEarned = 0.20;
            mainCoinBalance += coinsEarned;
            updateGamingAllBalances();
            updateMainCoinBalance();

            // Show success message
            const videoElement = document.getElementById('current-video');
            if (videoElement) {
                videoElement.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--accent); margin-bottom: 20px;"></i>
                        <h3 style="color: white; margin-bottom: 10px;">Video Completed!</h3>
                        <p style="color: var(--accent); font-size: 1.5rem; font-weight: bold;">+${coinsEarned} Coins Earned!</p>
                    </div>
                `;
            }

            const playBtn = document.getElementById('play-video-btn');
            const skipBtn = document.getElementById('skip-video-btn');
            if (playBtn) playBtn.disabled = true;
            if (skipBtn) skipBtn.disabled = true;

            updateWatchEarnStats();
            loadVideoLibrary();

            setTimeout(() => {
                stopCurrentVideo();
            }, 3000);
        }

        function stopCurrentVideo() {
            try {
                // Clear interval if running
                if (watchEarnData.progressInterval) {
                    clearInterval(watchEarnData.progressInterval);
                    watchEarnData.progressInterval = null;
                }

                watchEarnData.currentVideo = null;
                watchEarnData.videoProgress = 0;
                
                const videoContainer = document.getElementById('current-video-container');
                if (videoContainer) {
                    videoContainer.style.display = 'none';
                }
                
                const progressFill = document.getElementById('video-progress-fill');
                if (progressFill) {
                    progressFill.style.width = '0%';
                }
                
                const playBtn = document.getElementById('play-video-btn');
                const skipBtn = document.getElementById('skip-video-btn');
                
                if (playBtn) {
                    playBtn.disabled = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i> Start Watching';
                }
                
                if (skipBtn) {
                    skipBtn.disabled = false;
                }
            } catch (error) {
                console.error('Error stopping video:', error);
            }
        }

        function checkDailyStreak() {
            const today = new Date().toDateString();
            if (watchEarnData.lastWatchDate !== today) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                if (watchEarnData.lastWatchDate === yesterday.toDateString()) {
                    watchEarnData.streakDays++;
                } else if (watchEarnData.lastWatchDate !== today) {
                    watchEarnData.streakDays = 1;
                }
                watchEarnData.lastWatchDate = today;
            }

            // Award streak bonus (e.g., +10 coins on 7th day)
            if (watchEarnData.streakDays > 0 && watchEarnData.streakDays % 7 === 0) {
                mainCoinBalance += 10;
                updateGamingAllBalances();
                updateMainCoinBalance();
            }
        }

        // Close modal when clicking outside (add to existing handlers)
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('watchAndEarnModal');
            if (modal && event.target === modal) {
                closeWatchAndEarnModal();
            }
        });
    </script>
</body>
</html>